(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],l=0;l<n.length;l++){var c=n[l],s=o.base?c[0]+o.base:c[0],d=a[s]||0,A="".concat(s," ").concat(d);a[s]=d+1;var u=t(A),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var m=r(p,o);o.byIndex=l,e.splice(l,0,{identifier:A,updater:m,references:1})}i.push(A)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var l=t(a[i]);e[l].references--}for(var c=o(n,r),s=0;s<a.length;s++){var d=t(a[s]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=c}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var s=0;s<n.length;s++){var d=[].concat(n[s]);o&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},552:(n,e,t)=>{t.d(e,{A:()=>l});var o=t(354),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,'.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n.new-game-container {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1.5rem;\n}\n.game-status-container {\n  border: 2px solid #ccc;\n  padding: 15px;\n  text-align: center;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n.title {\n  color: green;\n  font-size: 3em;\n}\n#newGameButton {\n  padding: 15px 30px;\n  font-size: 1.5em;\n  background-color:  #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.5);\n}\n\n#newGameButton:hover {\n  background-color: #45a049;\n}\n\n.hidden {\n  display: none;\n}\n\n.game-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 100px; /* Espacio entre los tableros */\n  width: 100%;\n  max-width: 1200px; /* Ancho máximo para el contenedor */\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.player-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  min-width: 350px; /* Ancho mínimo para el contenedor del jugador */\n}\n\n#computerBoard {\n  min-width: 350px; /* Ancho mínimo para el tablero de la computadora */\n}\n\n/* Estilo para el área entre los tableros */\n.game-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  min-width: 200px; /* Ancho mínimo para el área de información */\n}\n\n.gameboard {\n  border-collapse: collapse;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n  margin-right: 10px;\n}\n.gameboard th {\n  background-color: #eee;\n  font-weight: bold;\n  text-align: center;\n  padding: 5px;\n  border-right: 1px solid lightgray;\n  border-bottom: 1px solid lightgray;\n}\n.gameboard-cell {\n  width: 30px;\n  height: 30px;\n  border-top: 1px solid gray;\n  border-left: 1px solid gray;\n  border-right: none;\n  border-bottom: none;\n}\n#fleetButton {\n  padding: 10px 20px;\n  font-size: 1em;\n  background-color: blue;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n}\n#fleetButton:hover {\n  background-color: rgb(0, 0, 182);\n}\n#fleetSelection {\n  margin-top: 20px;\n}\n.ship-option {\n  background-color: lightgray;\n  border: 1px solid gray;\n  height: fit-content;\n  padding: 5px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  width: fit-content; /* Ajustar el ancho al contenido */\n}\n.ship-option:hover {\n  background-color: #ddd;\n}\n\n/* Ship Placement Modal styles */\n.modal {\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto; /* Habilitar scroll si el contenido es muy largo */\n  background-color: rgba(0, 0, 0, 0.4);\n}\n.modal-content {\n  background-color: #fefefe;\n  margin: 15% auto; /* Vertical & and horizontal alignment */\n  padding: 20px;\n  border: 1px solid #888;\n  border-radius: 1.5rem;\n  box-shadow:  1px 2px 5px rgba(0, 0, 0, 0.4);\n  width: 80%;\n  max-width: 500px;\n}\n.close-button {\n  color: #aaa;\n  float: right;\n  font-size: 28px;\n  font-weight: bold;\n}\n.close-button:hover,\n.close-button:focus {\n  color: black;\n  text-decoration: none;\n  cursor: pointer;\n}\n.modal label {\n  display: block; /* Labels en líneas separadas */\n  margin-bottom: 5px;\n  margin-top: 10px;\n}\n.modal input[type="text"] {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 10px;\n  box-sizing: border-box;\n}\n.radio-group {\n  margin-bottom: 15px;\n}\n.radio-group label {\n  display: inline-block;\n  margin-right: 15px;\n}\n#placeShipButtonModal {\n  padding: 10px 20px;\n  font-size: 1em;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n#placeShipButtonModal:hover {\n  background-color: #45a049;\n}\n\n/* Input coordinates error message styles */\n\n.error-message {\n  color: red;\n  font-size: 0.9em;\n  margin-top: 5px;\n  display: block;\n}\n\n/* Different cell styles */\n\n.ship-cell {\n  background-color: lightblue;\n}\n.hit-cell {\n  background-color: red;\n}\n.miss-cell {\n  background-color: rgb(147, 147, 147);\n}\n\n/* Tooltip styles */\n.coords-display {\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-family: monospace;\n  font-size: 14px;\n  transition: all 0.2s ease;\n}',"",{version:3,sources:["webpack://./styles.css"],names:[],mappings:"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",sourcesContent:['.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n.new-game-container {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1.5rem;\n}\n.game-status-container {\n  border: 2px solid #ccc;\n  padding: 15px;\n  text-align: center;\n  font-size: 1.2em;\n  font-weight: bold;\n}\n.title {\n  color: green;\n  font-size: 3em;\n}\n#newGameButton {\n  padding: 15px 30px;\n  font-size: 1.5em;\n  background-color:  #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.5);\n}\n\n#newGameButton:hover {\n  background-color: #45a049;\n}\n\n.hidden {\n  display: none;\n}\n\n.game-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 100px; /* Espacio entre los tableros */\n  width: 100%;\n  max-width: 1200px; /* Ancho máximo para el contenedor */\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.player-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  min-width: 350px; /* Ancho mínimo para el contenedor del jugador */\n}\n\n#computerBoard {\n  min-width: 350px; /* Ancho mínimo para el tablero de la computadora */\n}\n\n/* Estilo para el área entre los tableros */\n.game-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  min-width: 200px; /* Ancho mínimo para el área de información */\n}\n\n.gameboard {\n  border-collapse: collapse;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n  margin-right: 10px;\n}\n.gameboard th {\n  background-color: #eee;\n  font-weight: bold;\n  text-align: center;\n  padding: 5px;\n  border-right: 1px solid lightgray;\n  border-bottom: 1px solid lightgray;\n}\n.gameboard-cell {\n  width: 30px;\n  height: 30px;\n  border-top: 1px solid gray;\n  border-left: 1px solid gray;\n  border-right: none;\n  border-bottom: none;\n}\n#fleetButton {\n  padding: 10px 20px;\n  font-size: 1em;\n  background-color: blue;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.5);\n  cursor: pointer;\n}\n#fleetButton:hover {\n  background-color: rgb(0, 0, 182);\n}\n#fleetSelection {\n  margin-top: 20px;\n}\n.ship-option {\n  background-color: lightgray;\n  border: 1px solid gray;\n  height: fit-content;\n  padding: 5px;\n  margin-bottom: 5px;\n  cursor: pointer;\n  width: fit-content; /* Ajustar el ancho al contenido */\n}\n.ship-option:hover {\n  background-color: #ddd;\n}\n\n/* Ship Placement Modal styles */\n.modal {\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto; /* Habilitar scroll si el contenido es muy largo */\n  background-color: rgba(0, 0, 0, 0.4);\n}\n.modal-content {\n  background-color: #fefefe;\n  margin: 15% auto; /* Vertical & and horizontal alignment */\n  padding: 20px;\n  border: 1px solid #888;\n  border-radius: 1.5rem;\n  box-shadow:  1px 2px 5px rgba(0, 0, 0, 0.4);\n  width: 80%;\n  max-width: 500px;\n}\n.close-button {\n  color: #aaa;\n  float: right;\n  font-size: 28px;\n  font-weight: bold;\n}\n.close-button:hover,\n.close-button:focus {\n  color: black;\n  text-decoration: none;\n  cursor: pointer;\n}\n.modal label {\n  display: block; /* Labels en líneas separadas */\n  margin-bottom: 5px;\n  margin-top: 10px;\n}\n.modal input[type="text"] {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 10px;\n  box-sizing: border-box;\n}\n.radio-group {\n  margin-bottom: 15px;\n}\n.radio-group label {\n  display: inline-block;\n  margin-right: 15px;\n}\n#placeShipButtonModal {\n  padding: 10px 20px;\n  font-size: 1em;\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n#placeShipButtonModal:hover {\n  background-color: #45a049;\n}\n\n/* Input coordinates error message styles */\n\n.error-message {\n  color: red;\n  font-size: 0.9em;\n  margin-top: 5px;\n  display: block;\n}\n\n/* Different cell styles */\n\n.ship-cell {\n  background-color: lightblue;\n}\n.hit-cell {\n  background-color: red;\n}\n.miss-cell {\n  background-color: rgb(147, 147, 147);\n}\n\n/* Tooltip styles */\n.coords-display {\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-family: monospace;\n  font-size: 14px;\n  transition: all 0.2s ease;\n}'],sourceRoot:""}]);const l=i},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(72),r=t.n(o),a=t(825),i=t.n(a),l=t(659),c=t.n(l),s=t(56),d=t.n(s),A=t(540),u=t.n(A),p=t(113),m=t.n(p),f=t(552),h={};h.styleTagTransform=m(),h.setAttributes=d(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=u(),r()(f.A,h),f.A&&f.A.locals&&f.A.locals;var g=document.createElement("div");function y(n,e,t){console.log("--- Rendering board for: ".concat(e.id," ---")),console.log("Clearing container ".concat(e.id)),e.innerHTML="",console.log("Container ".concat(e.id," cleared"));var o=document.createElement("table");o.classList.add("gameboard");var r=[],a=document.createElement("tr");a.classList.add("header-row");var i=document.createElement("th");a.appendChild(i);for(var l=0;l<n.grid[0].length;l++){var c=document.createElement("th");c.textContent=l,a.appendChild(c)}o.appendChild(a);for(var s=function(a){var i=document.createElement("tr"),l=document.createElement("th");l.classList.add("row-header"),l.textContent=a,i.appendChild(l);for(var c=[],s=function(o){var r=document.createElement("td");r.classList.add("gameboard-cell"),r.dataset.row=a,r.dataset.col=o;var l=n.getCellState([a,o]),s=l;"computerBoard"===e.id&&"ship"===l&&(s="empty"),console.log("Estado a mostrar:",s),b(r,s),r.textContent="","hit"===s?r.textContent="💥":"miss"===s&&(r.textContent="⚪"),"computerBoard"===e.id&&(r.addEventListener("mouseover",(function(n){var e=n.target.dataset.row,t=n.target.dataset.col;g.textContent="[".concat(e,", ").concat(t,"]"),g.style.left="".concat(n.clientX+15,"px"),g.style.top="".concat(n.clientY+15,"px"),g.style.display="block"})),r.addEventListener("mouseout",(function(n){g.style.display="none"}))),"empty"===l||"ship"===l?(r.addEventListener("click",(function(n){var e=n.target.dataset.row,o=n.target.dataset.col;"function"==typeof t&&t(e,o)})),r.style.cursor="pointer"):r.style.cursor="not-allowed",r.addEventListener("dragover",(function(n){n.preventDefault()})),r.addEventListener("drop",(function(n){n.preventDefault(),console.log("Drop event triggered on cell:",a,o)})),i.appendChild(r),c.push(r)},d=0;d<n.grid[a].length;d++)s(d);o.appendChild(i),r.push(c)},d=0;d<n.grid.length;d++)s(d);n.cellElements=r,e.appendChild(o),console.log("Appended table to ".concat(e.id))}function b(n,e){switch(n.classList.remove("ship-cell","hit-cell","miss-cell"),e){case"ship":n.classList.add("ship-cell");break;case"hit":n.classList.add("hit-cell");break;case"miss":n.classList.add("miss-cell")}}function C(n){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C(n)}function v(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(n){s=!0,r=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(n,e)||B(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=B(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){l=!0,a=n},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function B(n,e){if(n){if("string"==typeof n)return x(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(n,e):void 0}}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}function k(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,w(o.key),o)}}function w(n){var e=function(n){if("object"!=C(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=C(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==C(e)?e:e+""}g.classList.add("coords-display"),g.style.position="fixed",g.style.display="none",g.style.zIndex="1000",g.style.pointerEvents="none",document.body.appendChild(g);var S=function(){return n=function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.ships=[],this.grid=Array(10).fill(null).map((function(){return Array(10).fill(null)})),this.attemptedPlacements=[]},(e=[{key:"placeShip",value:function(n,e,t){var o=I(n,e,t);this.validateShipPlacement(o),this.validateNoOverlap(o);var r,a=E(o);try{for(a.s();!(r=a.n()).done;){var i=v(r.value,2),l=i[0],c=i[1];this.grid[l][c]={ship:n,hit:!1}}}catch(n){a.e(n)}finally{a.f()}var s={ship:n,coordinates:e,isVertical:t};return this.ships.push(s),!0}},{key:"validateShipPlacement",value:function(n){var e,t=E(n);try{for(t.s();!(e=t.n()).done;){var o=v(e.value,2),r=o[0],a=o[1];if(r<0||r>9||a<0||a>9)throw new Error("Ship extends beyond the ".concat(a>9?"right":a<0?"left":r>9?"bottom":"top"," edge of the board"))}}catch(n){t.e(n)}finally{t.f()}}},{key:"validateNoOverlap",value:function(n){var e,t=E(n);try{for(t.s();!(e=t.n()).done;){var o,r=e.value,a=E(this.ships);try{for(a.s();!(o=a.n()).done;){var i,l=o.value,c=E(I(l.ship,l.coordinates,l.isVertical));try{for(c.s();!(i=c.n()).done;){var s=i.value;if(r[0]===s[0]&&r[1]===s[1])throw new Error("Cannot place ship here: overlaps with another ship")}}catch(n){c.e(n)}finally{c.f()}}}catch(n){a.e(n)}finally{a.f()}}}catch(n){t.e(n)}finally{t.f()}}},{key:"receiveAttack",value:function(n){var e=v(n,2),t=e[0],o=e[1];if(t<0||t>9||o<0||o>9)throw new Error("Invalid coordinates");var r=this.grid[t][o];return"miss"===r||r&&!0===r.hit?(console.log("Attack ignored: Already attacked here."),"already_attacked"):r&&r.ship?(r.hit=!0,r.ship.hit(),console.log("Ship hit!"),r.ship.isSunk()?(console.log("Ship sunk!"),"sunk"):"hit"):(this.grid[t][o]="miss",console.log("Attackmissed!"),"miss")}},{key:"areAllShipsSunk",value:function(){return this.ships.every((function(n){return n.ship.isSunk()}))}},{key:"getCellState",value:function(n){var e=v(n,2),t=e[0],o=e[1];if(t<0||t>9||o<0||o>9)return console.error("Invalid coordinates for getCellState"),"invalid";var r=this.grid[t][o];return"miss"===r?"miss":r&&!0===r.hit?"hit":r&&r.ship?"ship":"empty"}}])&&k(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();function I(n,e,t){var o=[],r=e[0],a=e[1],i=n.length;if(t)for(var l=0;l<i;l++)o.push([r+l,a]);else for(var c=0;c<i;c++)o.push([r,a+c]);return o}function M(n){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},M(n)}function P(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,j(o.key),o)}}function j(n){var e=function(n){if("object"!=M(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=M(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==M(e)?e:e+""}var L=function(){return n=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.gameboard=t||new S,this.type=e,this.hitsMade=0,this.missesMade=0},t=[{key:"getShipLength",value:function(n){switch(n){case"carrier":return 5;case"battleship":return 4;case"destroyer":case"submarine":return 3;case"patrolBoat":return 2;default:throw new Error("Invalid ship type: ".concat(n))}}}],(e=[{key:"attack",value:function(n,e){n.receiveAttack(e)}},{key:"getRandomCoordsForBoard",value:function(n,e){for(var t,o=0,r=function(){var t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),a=Math.random()<.5;if(!I({length:e},[t,r],a).some((function(n){return n[0]<0||n[0]>9||n[1]<0||n[1]>9}))){if(!n||!n.attemptedPlacements)return console.log("Coordenadas válidas encontradas en el intento ".concat(o+1,": [").concat(t,", ").concat(r,"] ").concat(a?"vertical":"horizontal")),{v:{coords:[t,r],isVertical:a}};if(!n.attemptedPlacements.some((function(n){return n[0]===t&&n[1]===r})))return console.log("Coordenadas válidas encontradas en el intento ".concat(o+1,": [").concat(t,", ").concat(r,"] ").concat(a?"vertical":"horizontal")),{v:{coords:[t,r],isVertical:a}}}o++,console.log("Intento ".concat(o,"/").concat(50," fallido, coordenadas: [").concat(t,", ").concat(r,"] ").concat(a?"vertical":"horizontal"))};o<50;)if(t=r())return t.v;throw new Error("No se encontraron coordenadas válidas después de ".concat(50," intentos"))}},{key:"generateRandomAttack",value:function(n){for(var e=0,t=new Set;e<100;){var o=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),a="".concat(o,",").concat(r);if(!t.has(a)){t.add(a);var i=n.getCellState([o,r]);if("empty"===i||"ship"===i)return console.log("Computer AI chose valid attack: [".concat(o,", ").concat(r,"]")),[o,r];e++}}throw new Error("Computer AI failed to find a valid coordinate to attack after many attempts.")}}])&&P(n.prototype,e),t&&P(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e,t}();function T(n){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(n)}function Y(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,z(o.key),o)}}function z(n){var e=function(n){if("object"!=T(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=T(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==T(e)?e:e+""}var O=function(){return n=function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.player1=null,this.player2=null,this.gameboardPlayer1=null,this.gameboardPlayer2=null,this.currentPlayer=null},(e=[{key:"startGame",value:function(){this.gameboardPlayer1=new S,this.gameboardPlayer2=new S,this.player1=new L("Human",this.gameboardPlayer1),this.player2=new L("ai",this.gameboardPlayer2),this.currentPlayer=this.player1}},{key:"nextTurn",value:function(){this.currentPlayer===this.player1?this.currentPlayer=this.player2:this.currentPlayer=this.player1}}])&&Y(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();function V(n){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},V(n)}function U(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,D(o.key),o)}}function D(n){var e=function(n){if("object"!=V(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=V(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==V(e)?e:e+""}var Z=function(){return n=function n(e){if(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e<=0)throw new Error("Ship's length must be grather than 0");this.length=e,this.hits=0,this.sunk=!1},(e=[{key:"hit",value:function(){return this.hits++,this.sunk=this.hits>=this.length,this.sunk}},{key:"isSunk",value:function(){return this.hits>=this.length}}])&&U(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}();function N(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}var R=document.getElementById("playerBoard"),W=document.getElementById("computerBoard"),q=document.getElementById("newGameButton"),G=document.getElementById("fleetButton"),F=document.getElementById("fleetSelection"),H=document.querySelectorAll(".ship-option"),X=document.getElementById("shipPlacementModal"),_=document.getElementById("closeModalButton"),J=document.getElementById("modalShipName"),$=document.getElementById("placeShipButtonModal"),K=null,Q=document.getElementById("coordinateError"),nn=0,en=document.getElementById("gameStatusContainer"),tn=document.getElementById("gameInfo"),on=document.getElementById("playerHitsCount"),rn=document.getElementById("playerMissesCount"),an=document.getElementById("computerHitsCount"),ln=document.getElementById("computerMissesCount"),cn=new O;window.gameInstance=cn,cn.startGame();var sn=cn.player2,dn=cn.player1,An=cn.gameboardPlayer2;function un(n){if(!n)return{isValid:!1,errorMessage:"Coordinate connot be empty"};var e=n.split(",").map((function(n){return n.trim()}));if(2!==e.length)return{isValid:!1,errorMessage:"Invalid format. Please use format 'x,y' (e.g. 5,5)"};var t=e[0],o=e[1],r=parseInt(t),a=parseInt(o);return isNaN(a)||isNaN(r)?{isValid:!1,errorMessage:"Invalid coordinates. X and Y must be numbers"}:a<0||a>9||r<0||r>9?{isValid:!1,errorMessage:"Coordinates out of range. X and Y must be between 0 and 9"}:{isValid:!0,errorMessage:""}}function pn(){var n,e,t,o,r=document.getElementById("coordinateInput"),a=document.getElementById("orientationVertical").checked,i=un(r.value);if(i.isValid){Q.classList.add("hidden");var l=(e=(n=r.value.split(",").map((function(n){return n.trim()})))[0],t=n[1],o=parseInt(t),[parseInt(e),o]);console.log("Parsed coordinates: ",l);var c=L.getShipLength(K),s=new Z(c);console.log("Orientation (vertical):",a);try{if(cn.gameboardPlayer1.placeShip(s,l,a)){console.log("".concat(K," placed successfully!"),cn.gameboardPlayer1.ships);var d=I(s,l,a);document.getElementById("ship-option-".concat(K)).remove(),d.forEach((function(n){var e,t,o=(t=2,function(n){if(Array.isArray(n))return n}(e=n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,a,i,l=[],c=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(o=a.call(t)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(n){s=!0,r=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return N(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[0],a=o[1];b(cn.gameboardPlayer1.cellElements[r][a],"ship")})),nn++,X.classList.add("hidden"),r.value="",Q.classList.add("hidden"),5===nn&&(console.log("Player start to attack!"),G.classList.add("hidden"),document.getElementById("fleetSelection").remove(),en.classList.remove("hidden"),en.textContent="Your Turn to Attack!",tn.style.display="block",W.classList.remove("hidden"),function(n){var e=cn.player2;["carrier","battleship","destroyer","submarine","patrolBoat"].forEach((function(t){for(var o=!1;!o;)try{var r=L.getShipLength(t),a=e.getRandomCoordsForBoard(n,r),i=new Z(r);console.log("Intentando colocar ".concat(t," en [").concat(a.coords[0],", ").concat(a.coords[1],"] ").concat(a.isVertical?"vertical":"horizontal")),!0===n.placeShip(i,a.coords,a.isVertical)&&(o=!0,console.log("Computer placed ".concat(t," at [").concat(a.coords[0],", ").concat(a.coords[1],"] ").concat(a.isVertical?"vertically":"horizontally")))}catch(n){console.error("Computer AI placement failed for ".concat(t,":"),n.message)}})),console.log("".concat(cn.player2," placed fleet successfully!")),console.log("".concat(cn.player1," start to attack!"))}(An),updateScoreDsiplays())}}catch(n){console.error("Ship placement error:",n.message),Q.textContent=n.message,Q.classList.remove("hidden")}}else Q.textContent=i.errorMessage,Q.classList.remove("hidden")}function mn(){on.textContent=cn.player1.hitsMade,rn.textContent=cn.player1.missesMade,an.textContent=cn.player2.hitsMade,ln.textContent=cn.player2.missesMade}q.addEventListener("click",(function(){console.log("Mostrando tablero de jugador..."),R.classList.remove("hidden"),G.classList.remove("hidden"),q.classList.add("hidden")})),G.addEventListener("click",(function(){console.log("Mostrando flota de jugador a colocar..."),G.classList.add("hidden"),F.classList.remove("hidden")})),H.forEach((function(n){n.addEventListener("click",(function(e){var t=n.dataset.shipType;J.textContent=t.charAt(0).toUpperCase()+t.slice(1),Q.classList.add("hidden"),document.getElementById("coordinateInput").value="",X.classList.remove("hidden"),K=t}))})),_.addEventListener("click",(function(){X.classList.add("hidden"),Q.classList.add("hidden"),document.getElementById("coordinateInput").value=""})),$.addEventListener("click",(function(){pn()})),document.getElementById("coordinateInput").addEventListener("input",(function(){un(document.getElementById("coordinateInput").value).isValid&&Q.classList.add("hidden")})),y(cn.gameboardPlayer1,R),y(An,W,(function n(e,t){console.log("handlePlayerAttack: Attacking [".concat(e,", ").concat(t,"] on computerBoard"));var o=parseInt(e),r=parseInt(t),a=An.receiveAttack([o,r]);console.log("Attack result: ",a),"hit"===a||"sunk"===a?cn.player1.hitsMade++:"miss"===a&&cn.player1.missesMade++,mn(),console.log("handlePlayerAttack: Calling renderGameboard for computerBoard UPDATE"),y(An,W,n);var i=An.areAllShipsSunk();if(console.log("Checking if player won:",i),i)return alert("Victoria para ".concat(dn,"!")),void console.log("Game Over - Player Wins!");console.log("".concat(dn," turn ended. Scheduling computer turn...")),en.textContent="Computer's Turn...",y(An,W,null),setTimeout((function(){var e;console.log("--- Computer's Turn START ---");try{e=sn.generateRandomAttack(dn.gameboard),console.log("Computer targets: [".concat(e[0],", ").concat(e[1],"]"));var t=dn.gameboard.receiveAttack(e);console.log("Computer attack result: ".concat(t?"hit":"miss")),"hit"===t||"sunk"===t?cn.player2.hitsMade++:"miss"===t&&cn.player2.missesMade++,mn(),console.log("Updating player's board UI..."),y(dn.gameboard,R,null);var o=dn.gameboard.areAllShipsSunk();console.log("Checking if computer won:",o),o?(alert("Victoria para ".concat(sn,"!")),console.log("Game Over - Computer Wins!"),en.textContent="Computer Wins!"):(console.log("--- Computer's Turn END ---"),console.log("Returning turn to player..."),en.textContent="Your Turn to Attack!",y(An,W,n))}catch(e){console.error("".concat(sn," couldn't find a valid coordinate to attack"),e),console.log("--- Computer's Turn END (Failed to find target) ---"),console.log("Returning turn to player..."),en.textContent="Your Turn to Attack!",y(An,W,n)}}),1e3)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLHNCQUFEMUcsT0FBdUJ5UyxFQUFpQixHQUFFLE1BQUF6UyxPQUFLeVMsRUFBaUIsR0FBRSxNQUc3RSxJQUFNRSxFQUFtQjdDLEdBQVl4SixVQUFVc0csY0FBYzZGLEdBQzdEaE0sUUFBUUMsSUFBSSwyQkFBRDFHLE9BQTRCMlMsRUFBbUIsTUFBUSxTQUN6QyxRQUFyQkEsR0FBa0QsU0FBckJBLEVBQy9CaEQsR0FBYTVCLFFBQVF0QixXQUNTLFNBQXJCa0csR0FDVGhELEdBQWE1QixRQUFRckIsYUFFdkJrRixLQUdBbkwsUUFBUUMsSUFBSSxpQ0FDWkwsRUFBZ0J5SixHQUFZeEosVUFBV2dJLEVBQWEsTUFHcEQsSUFBTXNFLEVBQWM5QyxHQUFZeEosVUFBVWdNLGtCQUMxQzdMLFFBQVFDLElBQUksNEJBQTZCa00sR0FFckNBLEdBQ0ZMLE1BQU0saUJBQUR2UyxPQUFrQjZQLEdBQWMsTUFFckNwSixRQUFRQyxJQUFJLDhCQUNaMkksR0FBa0JoSSxZQUFjLG1CQUloQ1osUUFBUUMsSUFBSSwrQkFDWkQsUUFBUUMsSUFBSSwrQkFDWjJJLEdBQWtCaEksWUFBYyx1QkFDaENoQixFQUFnQjBKLEdBQW1CdkIsRUFBZXlELEdBR3RELENBQUUsTUFBT2pHLEdBQ1B2RixRQUFRdUYsTUFBTSxHQUFEaE0sT0FBSTZQLEdBQWMsK0NBQStDN0QsR0FFOUV2RixRQUFRQyxJQUFJLHVEQUNaRCxRQUFRQyxJQUFJLCtCQUNaMkksR0FBa0JoSSxZQUFjLHVCQUNoQ2hCLEVBQWdCMEosR0FBbUJ2QixFQUFleUQsRUFFcEQsQ0FDRixHQUFHLElBR1AsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3N0eWxlcy5jc3M/MTcwZiIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5uZXctZ2FtZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG59XG4uZ2FtZS1zdGF0dXMtY29udGFpbmVyIHtcbiAgYm9yZGVyOiAycHggc29saWQgI2NjYztcbiAgcGFkZGluZzogMTVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEuMmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi50aXRsZSB7XG4gIGNvbG9yOiBncmVlbjtcbiAgZm9udC1zaXplOiAzZW07XG59XG4jbmV3R2FtZUJ1dHRvbiB7XG4gIHBhZGRpbmc6IDE1cHggMzBweDtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogICM0Q0FGNTA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm94LXNoYWRvdzogMXB4IDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuXG4jbmV3R2FtZUJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XG59XG5cbi5oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZ2FtZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gIGdhcDogMTAwcHg7IC8qIEVzcGFjaW8gZW50cmUgbG9zIHRhYmxlcm9zICovXG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDEyMDBweDsgLyogQW5jaG8gbcOheGltbyBwYXJhIGVsIGNvbnRlbmVkb3IgKi9cbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5wbGF5ZXItY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxcmVtO1xuICBtaW4td2lkdGg6IDM1MHB4OyAvKiBBbmNobyBtw61uaW1vIHBhcmEgZWwgY29udGVuZWRvciBkZWwganVnYWRvciAqL1xufVxuXG4jY29tcHV0ZXJCb2FyZCB7XG4gIG1pbi13aWR0aDogMzUwcHg7IC8qIEFuY2hvIG3DrW5pbW8gcGFyYSBlbCB0YWJsZXJvIGRlIGxhIGNvbXB1dGFkb3JhICovXG59XG5cbi8qIEVzdGlsbyBwYXJhIGVsIMOhcmVhIGVudHJlIGxvcyB0YWJsZXJvcyAqL1xuLmdhbWUtaW5mbyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDFyZW07XG4gIG1pbi13aWR0aDogMjAwcHg7IC8qIEFuY2hvIG3DrW5pbW8gcGFyYSBlbCDDoXJlYSBkZSBpbmZvcm1hY2nDs24gKi9cbn1cblxuLmdhbWVib2FyZCB7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjaztcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgYmxhY2s7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cbi5nYW1lYm9hcmQgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nOiA1cHg7XG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbn1cbi5nYW1lYm9hcmQtY2VsbCB7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCBncmF5O1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGdyYXk7XG4gIGJvcmRlci1yaWdodDogbm9uZTtcbiAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbn1cbiNmbGVldEJ1dHRvbiB7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgZm9udC1zaXplOiAxZW07XG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJveC1zaGFkb3c6IDFweCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuI2ZsZWV0QnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDE4Mik7XG59XG4jZmxlZXRTZWxlY3Rpb24ge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuLnNoaXAtb3B0aW9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xuICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICBwYWRkaW5nOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB3aWR0aDogZml0LWNvbnRlbnQ7IC8qIEFqdXN0YXIgZWwgYW5jaG8gYWwgY29udGVuaWRvICovXG59XG4uc2hpcC1vcHRpb246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xufVxuXG4vKiBTaGlwIFBsYWNlbWVudCBNb2RhbCBzdHlsZXMgKi9cbi5tb2RhbCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgei1pbmRleDogMTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBvdmVyZmxvdzogYXV0bzsgLyogSGFiaWxpdGFyIHNjcm9sbCBzaSBlbCBjb250ZW5pZG8gZXMgbXV5IGxhcmdvICovXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTtcbn1cbi5tb2RhbC1jb250ZW50IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZlZmVmZTtcbiAgbWFyZ2luOiAxNSUgYXV0bzsgLyogVmVydGljYWwgJiBhbmQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgKi9cbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgIzg4ODtcbiAgYm9yZGVyLXJhZGl1czogMS41cmVtO1xuICBib3gtc2hhZG93OiAgMXB4IDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjQpO1xuICB3aWR0aDogODAlO1xuICBtYXgtd2lkdGg6IDUwMHB4O1xufVxuLmNsb3NlLWJ1dHRvbiB7XG4gIGNvbG9yOiAjYWFhO1xuICBmbG9hdDogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMjhweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uY2xvc2UtYnV0dG9uOmhvdmVyLFxuLmNsb3NlLWJ1dHRvbjpmb2N1cyB7XG4gIGNvbG9yOiBibGFjaztcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4ubW9kYWwgbGFiZWwge1xuICBkaXNwbGF5OiBibG9jazsgLyogTGFiZWxzIGVuIGzDrW5lYXMgc2VwYXJhZGFzICovXG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbi5tb2RhbCBpbnB1dFt0eXBlPVwidGV4dFwiXSB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiA4cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG4ucmFkaW8tZ3JvdXAge1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuLnJhZGlvLWdyb3VwIGxhYmVsIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG59XG4jcGxhY2VTaGlwQnV0dG9uTW9kYWwge1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4jcGxhY2VTaGlwQnV0dG9uTW9kYWw6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5O1xufVxuXG4vKiBJbnB1dCBjb29yZGluYXRlcyBlcnJvciBtZXNzYWdlIHN0eWxlcyAqL1xuXG4uZXJyb3ItbWVzc2FnZSB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtc2l6ZTogMC45ZW07XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi8qIERpZmZlcmVudCBjZWxsIHN0eWxlcyAqL1xuXG4uc2hpcC1jZWxsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xufVxuLmhpdC1jZWxsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuLm1pc3MtY2VsbCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigxNDcsIDE0NywgMTQ3KTtcbn1cblxuLyogVG9vbHRpcCBzdHlsZXMgKi9cbi5jb29yZHMtZGlzcGxheSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xuICBmb250LXNpemU6IDE0cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3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O0FBQ0E7RUFDRSxxQkFBcUI7RUFDckIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUEsMkNBQTJDOztBQUUzQztFQUNFLFVBQVU7RUFDVixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUEsMEJBQTBCOztBQUUxQjtFQUNFLDJCQUEyQjtBQUM3QjtBQUNBO0VBQ0UscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxvQ0FBb0M7QUFDdEM7O0FBRUEsbUJBQW1CO0FBQ25CO0VBQ0Usb0NBQW9DO0VBQ3BDLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixlQUFlO0VBQ2YseUJBQXlCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwdnc7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuLm5ldy1nYW1lLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcXG59XFxuLmdhbWUtc3RhdHVzLWNvbnRhaW5lciB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjY2NjO1xcbiAgcGFkZGluZzogMTVweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogMS4yZW07XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLnRpdGxlIHtcXG4gIGNvbG9yOiBncmVlbjtcXG4gIGZvbnQtc2l6ZTogM2VtO1xcbn1cXG4jbmV3R2FtZUJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxNXB4IDMwcHg7XFxuICBmb250LXNpemU6IDEuNWVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogICM0Q0FGNTA7XFxuICBjb2xvcjogd2hpdGU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBib3gtc2hhZG93OiAxcHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxufVxcblxcbiNuZXdHYW1lQnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0NWEwNDk7XFxufVxcblxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmdhbWUtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gIGdhcDogMTAwcHg7IC8qIEVzcGFjaW8gZW50cmUgbG9zIHRhYmxlcm9zICovXFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC13aWR0aDogMTIwMHB4OyAvKiBBbmNobyBtw6F4aW1vIHBhcmEgZWwgY29udGVuZWRvciAqL1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBwYWRkaW5nOiAyMHB4O1xcbn1cXG5cXG4ucGxheWVyLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBnYXA6IDFyZW07XFxuICBtaW4td2lkdGg6IDM1MHB4OyAvKiBBbmNobyBtw61uaW1vIHBhcmEgZWwgY29udGVuZWRvciBkZWwganVnYWRvciAqL1xcbn1cXG5cXG4jY29tcHV0ZXJCb2FyZCB7XFxuICBtaW4td2lkdGg6IDM1MHB4OyAvKiBBbmNobyBtw61uaW1vIHBhcmEgZWwgdGFibGVybyBkZSBsYSBjb21wdXRhZG9yYSAqL1xcbn1cXG5cXG4vKiBFc3RpbG8gcGFyYSBlbCDDoXJlYSBlbnRyZSBsb3MgdGFibGVyb3MgKi9cXG4uZ2FtZS1pbmZvIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgZ2FwOiAxcmVtO1xcbiAgbWluLXdpZHRoOiAyMDBweDsgLyogQW5jaG8gbcOtbmltbyBwYXJhIGVsIMOhcmVhIGRlIGluZm9ybWFjacOzbiAqL1xcbn1cXG5cXG4uZ2FtZWJvYXJkIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBibGFjaztcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG59XFxuLmdhbWVib2FyZCB0aCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmF5O1xcbn1cXG4uZ2FtZWJvYXJkLWNlbGwge1xcbiAgd2lkdGg6IDMwcHg7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgZ3JheTtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgZ3JheTtcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XFxufVxcbiNmbGVldEJ1dHRvbiB7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICBmb250LXNpemU6IDFlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxuICBjb2xvcjogd2hpdGU7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBib3gtc2hhZG93OiAxcHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbiNmbGVldEJ1dHRvbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMCwgMTgyKTtcXG59XFxuI2ZsZWV0U2VsZWN0aW9uIHtcXG4gIG1hcmdpbi10b3A6IDIwcHg7XFxufVxcbi5zaGlwLW9wdGlvbiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XFxuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIG1hcmdpbi1ib3R0b206IDVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHdpZHRoOiBmaXQtY29udGVudDsgLyogQWp1c3RhciBlbCBhbmNobyBhbCBjb250ZW5pZG8gKi9cXG59XFxuLnNoaXAtb3B0aW9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XFxufVxcblxcbi8qIFNoaXAgUGxhY2VtZW50IE1vZGFsIHN0eWxlcyAqL1xcbi5tb2RhbCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiAxO1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGF1dG87IC8qIEhhYmlsaXRhciBzY3JvbGwgc2kgZWwgY29udGVuaWRvIGVzIG11eSBsYXJnbyAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQpO1xcbn1cXG4ubW9kYWwtY29udGVudCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmZWZlO1xcbiAgbWFyZ2luOiAxNSUgYXV0bzsgLyogVmVydGljYWwgJiBhbmQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgKi9cXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLXJhZGl1czogMS41cmVtO1xcbiAgYm94LXNoYWRvdzogIDFweCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC40KTtcXG4gIHdpZHRoOiA4MCU7XFxuICBtYXgtd2lkdGg6IDUwMHB4O1xcbn1cXG4uY2xvc2UtYnV0dG9uIHtcXG4gIGNvbG9yOiAjYWFhO1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgZm9udC1zaXplOiAyOHB4O1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi5jbG9zZS1idXR0b246aG92ZXIsXFxuLmNsb3NlLWJ1dHRvbjpmb2N1cyB7XFxuICBjb2xvcjogYmxhY2s7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5tb2RhbCBsYWJlbCB7XFxuICBkaXNwbGF5OiBibG9jazsgLyogTGFiZWxzIGVuIGzDrW5lYXMgc2VwYXJhZGFzICovXFxuICBtYXJnaW4tYm90dG9tOiA1cHg7XFxuICBtYXJnaW4tdG9wOiAxMHB4O1xcbn1cXG4ubW9kYWwgaW5wdXRbdHlwZT1cXFwidGV4dFxcXCJdIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgcGFkZGluZzogOHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5yYWRpby1ncm91cCB7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbn1cXG4ucmFkaW8tZ3JvdXAgbGFiZWwge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xcbn1cXG4jcGxhY2VTaGlwQnV0dG9uTW9kYWwge1xcbiAgcGFkZGluZzogMTBweCAyMHB4O1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4jcGxhY2VTaGlwQnV0dG9uTW9kYWw6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ1YTA0OTtcXG59XFxuXFxuLyogSW5wdXQgY29vcmRpbmF0ZXMgZXJyb3IgbWVzc2FnZSBzdHlsZXMgKi9cXG5cXG4uZXJyb3ItbWVzc2FnZSB7XFxuICBjb2xvcjogcmVkO1xcbiAgZm9udC1zaXplOiAwLjllbTtcXG4gIG1hcmdpbi10b3A6IDVweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4vKiBEaWZmZXJlbnQgY2VsbCBzdHlsZXMgKi9cXG5cXG4uc2hpcC1jZWxsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXG59XFxuLmhpdC1jZWxsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG59XFxuLm1pc3MtY2VsbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTQ3LCAxNDcsIDE0Nyk7XFxufVxcblxcbi8qIFRvb2x0aXAgc3R5bGVzICovXFxuLmNvb3Jkcy1kaXNwbGF5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42KTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDVweCAxMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgZ2V0TW9kYWxTaGlwVmFsdWUgfSBmcm9tICcuLi9pbmRleC5qcyc7XG4vLyBDcmVhciBlbGVtZW50byBwYXJhIG1vc3RyYXIgY29vcmRlbmFkYXMgKG1vdXNlb3ZlcilcbmNvbnN0IGNvb3Jkc0Rpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmNvb3Jkc0Rpc3BsYXkuY2xhc3NMaXN0LmFkZCgnY29vcmRzLWRpc3BsYXknKTtcbmNvb3Jkc0Rpc3BsYXkuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuY29vcmRzRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuY29vcmRzRGlzcGxheS5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG5jb29yZHNEaXNwbGF5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvb3Jkc0Rpc3BsYXkpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyR2FtZWJvYXJkKGdhbWVib2FyZCwgY29udGFpbmVyLCBjbGlja0NlbGxDYWxsYmFjaykge1xuICAgIGNvbnNvbGUubG9nKGAtLS0gUmVuZGVyaW5nIGJvYXJkIGZvcjogJHtjb250YWluZXIuaWR9IC0tLWApOyAvLyA8LS0gTlVFVk9cbiAgICBjb25zb2xlLmxvZyhgQ2xlYXJpbmcgY29udGFpbmVyICR7Y29udGFpbmVyLmlkfWApOyAvLyA8LS0gTlVFVk9cbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7IFxuICAgIGNvbnNvbGUubG9nKGBDb250YWluZXIgJHtjb250YWluZXIuaWR9IGNsZWFyZWRgKTsgLy8gPC0tIE5VRVZPXG5cblxuICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gIHRhYmxlLmNsYXNzTGlzdC5hZGQoJ2dhbWVib2FyZCcpO1xuXG5cbiAgLy8gQXJyYXkgMkQgcGFyYSBndWFyZGFyIGxhcyByZWZlcmVuY2lhcyBhIGxhcyBjZWxkYXMgPHRkPlxuICBjb25zdCBjZWxsRWxlbWVudHMgPSBbXTtcblxuICAvLyAqKiogQ3JlYXIgZmlsYSBkZSBlbmNhYmV6YWRvIGRlIGNvbHVtbmFzICoqKlxuICBjb25zdCBoZWFkZXJSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICBoZWFkZXJSb3cuY2xhc3NMaXN0LmFkZCgnaGVhZGVyLXJvdycpO1xuICBjb25zdCBlbXB0eUhlYWRlckNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpOyAvLyBDZWxkYSB2YWPDrWEgZW4gbGEgZXNxdWluYSBzdXBlcmlvciBpenF1aWVyZGFcbiAgaGVhZGVyUm93LmFwcGVuZENoaWxkKGVtcHR5SGVhZGVyQ2VsbCk7IC8vIEHDsWFkaXIgY2VsZGEgdmFjw61hXG4gIGZvciAobGV0IGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBnYW1lYm9hcmQuZ3JpZFswXS5sZW5ndGg7IGNvbEluZGV4KyspIHsgLy8gSXRlcmFyIHNvYnJlIGxhcyBjb2x1bW5hc1xuICAgIGNvbnN0IGhlYWRlckNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpOyAvLyBDZWxkYSBkZSBlbmNhYmV6YWRvICg8dGg+KVxuICAgIGhlYWRlckNlbGwudGV4dENvbnRlbnQgPSBjb2xJbmRleDsgLy8gRnJvbSAwIHRvIDlcbiAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQoaGVhZGVyQ2VsbCk7IC8vIEHDsWFkaXIgY2VsZGEgZGUgZW5jYWJlemFkbyBkZSBjb2x1bW5hXG4gIH1cbiAgdGFibGUuYXBwZW5kQ2hpbGQoaGVhZGVyUm93KTsgLy8gQcOxYWRpciBmaWxhIGRlIGVuY2FiZXphZG8gYSBsYSB0YWJsYVxuICAvLyAqKiogRmlsYSBkZSBlbmNhYmV6YWRvIGRlIGNvbHVtbmFzICoqKlxuXG5cbiAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IGdhbWVib2FyZC5ncmlkLmxlbmd0aDsgcm93SW5kZXgrKykgeyAvLyBJdGVyYXIgc29icmUgbGFzIGZpbGFzXG4gICAgY29uc3QgdGFibGVSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgLy8gKioqIENyZWFyIGNlbGRhIGRlIGVuY2FiZXphZG8gZGUgZmlsYSAobsO6bWVybyBkZSBmaWxhKSAqKipcbiAgICBjb25zdCByb3dIZWFkZXJDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTsgLy8gQ2VsZGEgZGUgZW5jYWJlemFkbyBkZSBmaWxhICg8dGg+KVxuICAgIHJvd0hlYWRlckNlbGwuY2xhc3NMaXN0LmFkZCgncm93LWhlYWRlcicpO1xuICAgIHJvd0hlYWRlckNlbGwudGV4dENvbnRlbnQgPSByb3dJbmRleDsgLy8gRnJvbSAwIHRvIDlcbiAgICB0YWJsZVJvdy5hcHBlbmRDaGlsZChyb3dIZWFkZXJDZWxsKTsgLy8gQcOxYWRpciBjZWxkYSBkZSBlbmNhYmV6YWRvIGRlIGZpbGFcblxuICAgIGNvbnN0IHJvd0NlbGxFbGVtZW50cyA9IFtdOyAvLyBBcnJheSBwYXJhIGd1YXJkYXIgbGFzIGNlbGRhcyBkZSBsYSBmaWxhIGFjdHVhbFxuICAgIC8vICoqKiBDZWxkYSBkZSBlbmNhYmV6YWRvIGRlIGZpbGEgKioqXG5cblxuICAgIGZvciAobGV0IGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBnYW1lYm9hcmQuZ3JpZFtyb3dJbmRleF0ubGVuZ3RoOyBjb2xJbmRleCsrKSB7IC8vIEl0ZXJhciBzb2JyZSBsYXMgY29sdW1uYXNcbiAgICAgICAgY29uc3QgdGFibGVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgdGFibGVDZWxsLmNsYXNzTGlzdC5hZGQoJ2dhbWVib2FyZC1jZWxsJyk7XG4gICAgICAgIHRhYmxlQ2VsbC5kYXRhc2V0LnJvdyA9IHJvd0luZGV4OyAvLyBHdWFyZGFyIGVsIMOtbmRpY2UgZGUgZmlsYSBjb21vIGRhdGEgYXR0cmlidXRlXG4gICAgICAgIHRhYmxlQ2VsbC5kYXRhc2V0LmNvbCA9IGNvbEluZGV4OyAvLyBHdWFyZGFyIGVsIMOtbmRpY2UgZGUgY29sdW1uYSBjb21vIGRhdGEgYXR0cmlidXRlXG5cbiAgICAgICAgLy8gT3RlbmVyIGVzdGFkbyBSZWFsXG4gICAgICAgIGNvbnN0IGNlbGxTdGF0ZSA9IGdhbWVib2FyZC5nZXRDZWxsU3RhdGUoW3Jvd0luZGV4LCBjb2xJbmRleF0pO1xuXG4gICAgICAgIC8vIE9jdWx0YXIgYmFyY29zIGVuZW1pZ29zIG5vIGltcGFjdGFkb3NcbiAgICAgICAgbGV0IHN0YXRlVG9EaXNwbGF5ID0gY2VsbFN0YXRlO1xuICAgICAgICBpZiAoY29udGFpbmVyLmlkID09PSAnY29tcHV0ZXJCb2FyZCcgJiYgY2VsbFN0YXRlID09PSAnc2hpcCcpIHtcbiAgICAgICAgICBzdGF0ZVRvRGlzcGxheSA9ICdlbXB0eSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcGxpY2FyIGVzdGlsbyB2aXN1YWwgdXNhbmRvIGxhIGZ1bmNpw7NuIGhlbHBlclxuICAgICAgICBjb25zb2xlLmxvZygnRXN0YWRvIGEgbW9zdHJhcjonLCBzdGF0ZVRvRGlzcGxheSk7XG4gICAgICAgIHVwZGF0ZUNlbGxWaXN1YWwodGFibGVDZWxsLCBzdGF0ZVRvRGlzcGxheSk7XG5cbiAgICAgICAgLy8gQWdyZWdhciBjb250ZW5pZG8gdmlzdWFsIGV4dHJhXG4gICAgICAgIHRhYmxlQ2VsbC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBpZiAoc3RhdGVUb0Rpc3BsYXkgPT09ICdoaXQnKSB7XG4gICAgICAgICAgdGFibGVDZWxsLnRleHRDb250ZW50ID0gJ/CfkqUnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlVG9EaXNwbGF5ID09PSAnbWlzcycpIHtcbiAgICAgICAgICB0YWJsZUNlbGwudGV4dENvbnRlbnQgPSAn4pqqJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFncmVnYXIgbGlzdGVuZXJzIChob3ZlciB5IGNsaWNrcyBjb25kaWNpb25hbClcbiAgICAgICAgaWYgKGNvbnRhaW5lci5pZCA9PT0gJ2NvbXB1dGVyQm9hcmQnKSB7XG4gICAgICAgICAgdGFibGVDZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSBlLnRhcmdldC5kYXRhc2V0LnJvdztcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGUudGFyZ2V0LmRhdGFzZXQuY29sO1xuXG4gICAgICAgICAgICAvLzEuIEFjdHVhbGl6YXIgY29udGVuaWRvXG4gICAgICAgICAgICBjb29yZHNEaXNwbGF5LnRleHRDb250ZW50ID0gYFske3Jvd30sICR7Y29sfV1gO1xuICAgICAgICAgICAgLy8yLiBQb3NpY2lvbmFyXG4gICAgICAgICAgICBjb29yZHNEaXNwbGF5LnN0eWxlLmxlZnQgPSBgJHtlLmNsaWVudFggKyAxNX1weGA7XG4gICAgICAgICAgICBjb29yZHNEaXNwbGF5LnN0eWxlLnRvcCA9IGAke2UuY2xpZW50WSArIDE1fXB4YDtcbiAgICAgICAgICAgIC8vMy4gTW9zdHJhclxuICAgICAgICAgICAgY29vcmRzRGlzcGxheS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRhYmxlQ2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XG4gICAgICAgICAgICBjb29yZHNEaXNwbGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2VsbFN0YXRlID09PSAnZW1wdHknIHx8IGNlbGxTdGF0ZSA9PT0gJ3NoaXAnKSB7IC8vIFNvbG8gYXRhY2FibGUgc2kgbGEgY2VsZGEgZXN0O2EgdmFjw61hIG8gaGF5IHVuIGJhcmNvXG4gICAgICAgICAgdGFibGVDZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGUudGFyZ2V0LmRhdGFzZXQucm93OyBcbiAgICAgICAgICAgIGNvbnN0IGNvbCA9IGUudGFyZ2V0LmRhdGFzZXQuY29sO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsaWNrQ2VsbENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7IC8vIExsYW1hciBhIGNhbGxiYWNrIHNpIGV4aXN0ZVxuICAgICAgICAgICAgICBjbGlja0NlbGxDYWxsYmFjayhyb3csIGNvbCk7IC8vIFBhc2EgbGFzIGNvb3JkZW5hZGFzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gUmVzZXRlYXIgY3Vyc29yIHBvciBzaSBhbnRlcyBlcmEgJ25vdC1hbGxvd2VkJ1xuICAgICAgICAgIHRhYmxlQ2VsbC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFibGVDZWxsLnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICAgICAgdGFibGVDZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFibGVDZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRHJvcCBldmVudCB0cmlnZ2VyZWQgb24gY2VsbDonLCByb3dJbmRleCwgY29sSW5kZXgpOyAvLyBVc2FyIHJvd0luZGV4IHkgY29sSW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGFibGVSb3cuYXBwZW5kQ2hpbGQodGFibGVDZWxsKTtcbiAgICAgICAgcm93Q2VsbEVsZW1lbnRzLnB1c2godGFibGVDZWxsKTsgLy8gQcOxYWRpciByZWZlcmVuY2lhIGRlIGNlbGRhIGFsIGFycmF5IGRlIGNlbGRhcyBkZSBsYSBmaWxhXG4gICAgfVxuICAgIHRhYmxlLmFwcGVuZENoaWxkKHRhYmxlUm93KTtcbiAgICBjZWxsRWxlbWVudHMucHVzaChyb3dDZWxsRWxlbWVudHMpOyAvLyBBw7FhZGlyIGFycmF5IGRlIGNlbGRhcyBkZSBsYSBmaWxhIGFsIGFycmF5IHByaW5jaXBhbCBkZSBjZWxkYXNcbiAgfVxuICBnYW1lYm9hcmQuY2VsbEVsZW1lbnRzID0gY2VsbEVsZW1lbnRzOyAvLyBHdWFyZGFtb3MgZWwgYXJyYXkgZGUgY2VsZGFzIGVuIGVsIG9iamV0byBnYW1lYm9hcmRcblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGUpO1xuICBjb25zb2xlLmxvZyhgQXBwZW5kZWQgdGFibGUgdG8gJHtjb250YWluZXIuaWR9YCk7IC8vIDwtLSBOVUVWT1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2VsbFZpc3VhbChjZWxsRWxlbWVudCwgY2VsbFN0YXRlKSB7XG4gIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXAtY2VsbCcsICdoaXQtY2VsbCcsICdtaXNzLWNlbGwnKTsgLy8gUmVtb3ZlciBjbGFzZXMgZGUgZXN0YWRvcyBhbnRlcmlvcmVzXG5cbiAgc3dpdGNoIChjZWxsU3RhdGUpIHtcbiAgICBjYXNlICdzaGlwJzpcbiAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NoaXAtY2VsbCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGl0JzpcbiAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpdC1jZWxsJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtaXNzJzpcbiAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21pc3MtY2VsbCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZW1wdHknOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgR2FtZWJvYXJkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zaGlwcyA9IFtdOyAvLyBTaGlwJ3MgY29vcmRpbmF0ZXMgaW4gdGhlIGdhbWVib2FyZFxuICAgIC8vdGhpcy5zdWNjZXNzZnVsSGl0cyA9IFtdO1xuICAgIC8vdGhpcy5taXNzZWRBdHRhY2tzID0gW107XG4gICAgdGhpcy5ncmlkID0gQXJyYXkoMTApLmZpbGwobnVsbCkubWFwKCgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcbiAgICB0aGlzLmF0dGVtcHRlZFBsYWNlbWVudHMgPSBbXTtcbiAgfVxuXG4gIC8vIE1ldGhvZHNcbiAgcGxhY2VTaGlwKHNoaXAsIGNvb3JkaW5hdGVzLCBpc1ZlcnRpY2FsKSB7XG4gICAgY29uc3Qgc2hpcENvb3JkcyA9IGNhbGN1bGF0ZVNoaXBDb29yZHMoc2hpcCwgY29vcmRpbmF0ZXMsIGlzVmVydGljYWwpO1xuICAgIFxuICAgIC8vIFZhbGlkYXIgYW50ZXMgZGUgaGFjZXIgY3VhbHF1aWVyIG1vZGlmaWNhY2nDs24gYWwgdGFibGVyb1xuICAgIHRoaXMudmFsaWRhdGVTaGlwUGxhY2VtZW50KHNoaXBDb29yZHMpO1xuICAgIHRoaXMudmFsaWRhdGVOb092ZXJsYXAoc2hpcENvb3Jkcyk7XG5cbiAgICAvLyBDb2xvY2FjacOzbiBlbiBsYSBncmlkIChTaSBsYXMgdmFsaWRhY2lvbmVzIHBhc2FuLCBjb2xvY2FyIGVsIGJhcmNvIGVuIGxhIGdyaWQpXG4gICAgZm9yIChjb25zdCBjb29yZHMgb2Ygc2hpcENvb3Jkcykge1xuICAgICAgY29uc3QgW3JvdywgY29sXSA9IGNvb3JkcztcbiAgICAgIC8vIEd1YXJkYSBlbCBvYmpldG8gY29uIGVsIGJhcmNvIHkgc3UgZXN0YWRvIGRlICdoaXQnJ1xuICAgICAgdGhpcy5ncmlkW3Jvd11bY29sXSA9IHtzaGlwOiBzaGlwLCBoaXQ6IGZhbHNlfTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RyYXIgbGEgY29sb2NhY2nDs24gZGVsIGJhcmNvIHBhcmEgb3RyYXMgbMOzZ2ljYXMgKGFsbFNoaXBzU3VuaylcbiAgICBjb25zdCBzaGlwUGxhY2VtZW50ID0ge1xuICAgICAgc2hpcCxcbiAgICAgIGNvb3JkaW5hdGVzLCAvLyBDb29yZGVuYWRhIGluaWNpYWwgcGFyYSByZWZlcmVuY2lhXG4gICAgICBpc1ZlcnRpY2FsLFxuICAgIH07XG4gICAgdGhpcy5zaGlwcy5wdXNoKHNoaXBQbGFjZW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICB2YWxpZGF0ZVNoaXBQbGFjZW1lbnQoc2hpcENvb3Jkcykge1xuICAgIGZvciAoY29uc3QgY29vcmQgb2Ygc2hpcENvb3Jkcykge1xuICAgICAgY29uc3QgW3JvdywgY29sXSA9IGNvb3JkO1xuICAgICAgaWYgKHJvdyA8IDAgfHwgcm93ID4gOSB8fCBjb2wgPCAwIHx8IGNvbCA+IDkpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY29sID4gOSA/ICdyaWdodCcgOiBjb2wgPCAwID8gJ2xlZnQnIDogcm93ID4gOSA/ICdib3R0b20nIDogJ3RvcCc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2hpcCBleHRlbmRzIGJleW9uZCB0aGUgJHtkaXJlY3Rpb259IGVkZ2Ugb2YgdGhlIGJvYXJkYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVOb092ZXJsYXAobmV3U2hpcENvb3Jkcykge1xuICAgIGZvciAoY29uc3QgbmV3Q29vcmQgb2YgbmV3U2hpcENvb3Jkcykge1xuICAgICAgZm9yIChjb25zdCBwbGFjZWRTaGlwUGxhY2VtZW50IG9mIHRoaXMuc2hpcHMpIHtcbiAgICAgICAgY29uc3QgcGxhY2VkU2hpcENvb3JkcyA9IGNhbGN1bGF0ZVNoaXBDb29yZHMoXG4gICAgICAgICAgcGxhY2VkU2hpcFBsYWNlbWVudC5zaGlwLCBcbiAgICAgICAgICBwbGFjZWRTaGlwUGxhY2VtZW50LmNvb3JkaW5hdGVzLCBcbiAgICAgICAgICBwbGFjZWRTaGlwUGxhY2VtZW50LmlzVmVydGljYWxcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgcGxhY2VkU2hpcENvb3JkIG9mIHBsYWNlZFNoaXBDb29yZHMpIHtcbiAgICAgICAgICBpZiAobmV3Q29vcmRbMF0gPT09IHBsYWNlZFNoaXBDb29yZFswXSAmJiBuZXdDb29yZFsxXSA9PT0gcGxhY2VkU2hpcENvb3JkWzFdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBwbGFjZSBzaGlwIGhlcmU6IG92ZXJsYXBzIHdpdGggYW5vdGhlciBzaGlwJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcykge1xuICAgIGNvbnN0IFt4LCB5XSA9IGNvb3JkaW5hdGVzOyAvLyBEZXN0cnVjdHVyZSB0aGUgYXR0YWNrIGNvb3JkaW5hdGUgaW50byB4IGFuZCB5IHZhcmlhYmxlc1xuICAgIC8vIDEuIFZhbGlkYWNpw7NuIGRlIGzDrW1pdGVzXG4gICAgaWYgKHggPCAwIHx8IHggPiA5IHx8IHkgPCAwIHx8IHkgPiA5KSB7IC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdmFsaWQgYm91bmRhcmllcyAoYXNzdW1pbmcgYSAxMHgxMCBncmlkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvb3JkaW5hdGVzJyk7XG4gICAgfVxuXG4gICAgLy8gMi4gIE9idGVuZXIgZXN0YWRvIGRlIGxhIGNlbGRhIGRlc2RlIGxhIGdyaWRcbiAgICBjb25zdCBjZWxsID0gdGhpcy5ncmlkW3hdW3ldO1xuXG4gICAgLy8gMy4gQ29tcHJvYmFyIHNpIHlhIGZ1w6kgYXRhY2FkYSAobWlzcyBvIGhpdClcbiAgICBpZiAoY2VsbCA9PT0gJ21pc3MnfHwgY2VsbCAmJiBjZWxsLmhpdCA9PT0gdHJ1ZSkge1xuICAgICAgLy8gQXRhcXVlIHJlcGV0aWRvXG4gICAgICAvL3Rocm93IG5ldyBFcnJvciAoJ0Nhbm5vdCBhdHRhY2sgdGhlIHNhbWUgY29vcmRpbmF0ZSB0d2ljZScpO1xuICAgICAgY29uc29sZS5sb2coXCJBdHRhY2sgaWdub3JlZDogQWxyZWFkeSBhdHRhY2tlZCBoZXJlLlwiKTtcbiAgICAgIHJldHVybiAnYWxyZWFkeV9hdHRhY2tlZCc7IC8vIERldm9sdmVyIGVzdGFkb1xuICAgIH1cblxuICAgIC8vIDQuIFByb2Nlc2FyIEhJVCAoc2kgaGF5IGJhcmNvIHkgbm8gZXN0YSAnaGl0JylcbiAgICBpZiAoY2VsbCAmJiBjZWxsLnNoaXApIHsgLy8gY2VsbCBleGlzdGUgeSB0aWVuZSB1bmEgcHJvcGllZGFkICdzaGlwJ1xuICAgICAgLy8gU2FiZW1vcyBxdWUgY2VsbC5oaXQgZXMgZmFsc2UgcG9yIGVsIGNoZXF1ZW8gYW50ZXJpb3JcbiAgICAgIGNlbGwuaGl0ID0gdHJ1ZTtcbiAgICAgIGNlbGwuc2hpcC5oaXQoKTsgLy8gTExhbWFtb3MgZWwgbcOpdG9kbyBoaXQgZGVsIG9iamV0byBzaGlwXG4gICAgICBjb25zb2xlLmxvZyhcIlNoaXAgaGl0IVwiKTtcblxuICAgICAgLy8gQ29tcHJvYmFyIHkgbG9ndWVhciBzaSBzZSBodW5kacOzIChhw7FhZGlyIGRlc3B1w6lzIHNpIHF1aWVyZXMpXG4gICAgICBpZiAoY2VsbC5zaGlwLmlzU3VuaygpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTaGlwIHN1bmshYCk7IFxuICAgICAgICByZXR1cm4gJ3N1bmsnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdoaXQnO1xuICAgIH1cblxuICAgIC8vIDUuIFByb2Nlc2FyIE1JU1MgKHNpIGxhIGNlbGRhIGVzdMOhIHZhY8OtYSAtIG51bGwpXG4gICAgLy8gU2kgbGxlZ2Ftb3MgaGFzdGEgYXF1aSBzaWdpbmlmaWNhIHF1ZSBsYSBjZWxkYSBlcmEgJ251bGwneSBubyBmdWUgaGl0IG5pIG1pc3MgYW50ZXJpb3JtZW50ZVxuICAgIHRoaXMuZ3JpZFt4XVt5XSA9ICdtaXNzJztcbiAgICBjb25zb2xlLmxvZyhcIkF0dGFja21pc3NlZCFcIik7XG4gICAgXG4gICAgcmV0dXJuICdtaXNzJztcbiAgfVxuICBhcmVBbGxTaGlwc1N1bmsoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hpcHMuZXZlcnkoc2hpcFBsYWNlbWVudCA9PiBzaGlwUGxhY2VtZW50LnNoaXAuaXNTdW5rKCkpO1xuICB9XG5cbiAgZ2V0Q2VsbFN0YXRlKGNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3QgW3gsIHldID0gY29vcmRpbmF0ZXM7XG4gICAgLy8gVmFsaWRhciBjb29yZGVuYWRhc1xuICAgIGlmICh4IDwgMCB8fCB4ID4gOSB8fCB5IDwgMCB8fCB5ID4gOSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgY29vcmRpbmF0ZXMgZm9yIGdldENlbGxTdGF0ZVwiKTtcbiAgICAgIHJldHVybiAnaW52YWxpZCc7IC8vIG8gbnVsbCwgbyBsYW56YXIgZXJyb3JcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2VsbCA9IHRoaXMuZ3JpZFt4XVt5XTtcblxuICAgIGlmIChjZWxsID09PSAnbWlzcycpIHtcbiAgICAgIHJldHVybiAnbWlzcyc7XG4gICAgfSBlbHNlIGlmIChjZWxsICYmIGNlbGwuaGl0ID09PSB0cnVlKSB7IC8vIEVsIGJhcmNvIGhhIHNpZG8gYXRhY2Fkb1xuICAgICAgcmV0dXJuICdoaXQnO1xuICAgIH0gZWxzZSBpZiAoY2VsbCAmJiBjZWxsLnNoaXApIHsgLy8gSGF5IHVuIGJhcmNvIHBlcm8gbm8gaGEgc2lkbyBhdGFjYWRvXG4gICAgICByZXR1cm4gJ3NoaXAnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2VtcHR5JztcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU2hpcENvb3JkcyhzaGlwLCBzdGFydENvb3JkaW5hdGVzLCB2ZXJ0aWNhbCkge1xuICBjb25zdCBzaGlwQ29vcmRzID0gW107XG4gIGNvbnN0IHN0YXJ0Um93ID0gc3RhcnRDb29yZGluYXRlc1swXTtcbiAgY29uc3Qgc3RhcnRDb2wgPSBzdGFydENvb3JkaW5hdGVzWzFdO1xuICBjb25zdCBzaGlwbGVuZ3RoID0gc2hpcC5sZW5ndGg7XG5cbiAgaWYoIXZlcnRpY2FsKSB7IC8vIEhvcml6b250YWw6IGluY3JlbWVudGEgbGEgY29sdW1uYSBtYW50ZW5pZW5kbyBsYSBtaXNtYSBmaWxhXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwbGVuZ3RoOyBpKyspIHtcbiAgICAgIHNoaXBDb29yZHMucHVzaChbc3RhcnRSb3csIHN0YXJ0Q29sICsgaV0pO1xuICAgIH0gIFxuICB9ZWxzZSB7IC8vIFZlcnRpY2FsOiBpbmNyZW1lbnRhIGxhIGZpbGEgbWFudGVuaWVuZG8gbGEgbWlzbWEgY29sdW1uYVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcGxlbmd0aDsgaSsrKSB7XG4gICAgICBzaGlwQ29vcmRzLnB1c2goW3N0YXJ0Um93ICsgaSwgc3RhcnRDb2xdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNoaXBDb29yZHM7XG59IiwiaW1wb3J0IHsgR2FtZWJvYXJkLCBjYWxjdWxhdGVTaGlwQ29vcmRzIH0gZnJvbSBcIi4uL3NyYy9nYW1lYm9hcmQuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBsYXllciB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGdhbWVib2FyZCA9IG51bGwpIHtcbiAgICB0aGlzLmdhbWVib2FyZCA9IGdhbWVib2FyZCB8fCBuZXcgR2FtZWJvYXJkKCk7IC8vIFVzZSBwcm92aWRlZCBnYW1lYm9hcmQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgIHRoaXMudHlwZSA9IHR5cGU7IC8vIEh1bWFuIG9yIGNvbXB1dGVyXG4gICAgdGhpcy5oaXRzTWFkZSA9IDA7XG4gICAgdGhpcy5taXNzZXNNYWRlID0gMDtcbiAgfVxuXG4gIC8vIE3DqXRvZG8gZXN0w6F0aWNvIHBhcmEgb2J0ZW5lciBsYSBsb25naXR1ZCBkZWwgYmFyY28gc2Vnw7puIHN1IHRpcG9cbiAgc3RhdGljIGdldFNoaXBMZW5ndGgoc2hpcFR5cGUpIHtcbiAgICBzd2l0Y2ggKHNoaXBUeXBlKSB7XG4gICAgICBjYXNlIFwiY2FycmllclwiOlxuICAgICAgICByZXR1cm4gNTtcbiAgICAgIGNhc2UgXCJiYXR0bGVzaGlwXCI6XG4gICAgICAgIHJldHVybiA0O1xuICAgICAgY2FzZSBcImRlc3Ryb3llclwiOlxuICAgICAgICByZXR1cm4gMztcbiAgICAgIGNhc2UgXCJzdWJtYXJpbmVcIjpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlIFwicGF0cm9sQm9hdFwiOlxuICAgICAgICByZXR1cm4gMjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaGlwIHR5cGU6ICR7c2hpcFR5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgLy8gTWV0aG9kc1xuICBhdHRhY2soZ2FtZWJvYXJkLCBjb29yZGluYXRlcykge1xuICAgIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKTtcbiAgfVxuXG4gIGdldFJhbmRvbUNvb3Jkc0ZvckJvYXJkKGdhbWVib2FyZCwgc2hpcExlbmd0aCkge1xuICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSA1MDsgLy8gTsO6bWVybyBkZSBpbnRlbnRvc1xuXG4gICAgd2hpbGUgKGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMpIHtcbiAgICAgIGNvbnN0IHN0YXJ0Um93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgY29uc3Qgc3RhcnRDb2wgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICBjb25zdCBpc1ZlcnRpY2FsID0gTWF0aC5yYW5kb20oKSA8IDAuNTtcblxuICAgICAgY29uc3QgcGxhY2VtZW50Q29vcmRzID0gY2FsY3VsYXRlU2hpcENvb3JkcyhcbiAgICAgICAgeyBsZW5ndGg6IHNoaXBMZW5ndGggfSxcbiAgICAgICAgW3N0YXJ0Um93LCBzdGFydENvbF0sXG4gICAgICAgIGlzVmVydGljYWwsXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZmljYXIgc2kgZXN0w6EgZGVudHJvIGRlbCB0YWJsZXJvXG4gICAgICBjb25zdCBpc091dE9mQm91bmRzID0gcGxhY2VtZW50Q29vcmRzLnNvbWUoXG4gICAgICAgIChjb29yZCkgPT4gY29vcmRbMF0gPCAwIHx8IGNvb3JkWzBdID4gOSB8fCBjb29yZFsxXSA8IDAgfHwgY29vcmRbMV0gPiA5LFxuICAgICAgKTtcblxuICAgICAgaWYgKCFpc091dE9mQm91bmRzKSB7XG4gICAgICAgIC8vIFNpIGhheSBnYW1lYm9hcmQsIHZlcmlmaWNhciBxdWUgbm8gaGF5YSBzaWRvIGludGVudGFkbyBhbnRlc1xuICAgICAgICBpZiAoZ2FtZWJvYXJkICYmIGdhbWVib2FyZC5hdHRlbXB0ZWRQbGFjZW1lbnRzKSB7XG4gICAgICAgICAgY29uc3QgaGFzQmVlbkF0dGVtcHRlZCA9IGdhbWVib2FyZC5hdHRlbXB0ZWRQbGFjZW1lbnRzLnNvbWUoXG4gICAgICAgICAgICAoYXR0ZW1wdCkgPT4gYXR0ZW1wdFswXSA9PT0gc3RhcnRSb3cgJiYgYXR0ZW1wdFsxXSA9PT0gc3RhcnRDb2wsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmICghaGFzQmVlbkF0dGVtcHRlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIGBDb29yZGVuYWRhcyB2w6FsaWRhcyBlbmNvbnRyYWRhcyBlbiBlbCBpbnRlbnRvICR7YXR0ZW1wdHMgKyAxfTogWyR7c3RhcnRSb3d9LCAke3N0YXJ0Q29sfV0gJHtpc1ZlcnRpY2FsID8gXCJ2ZXJ0aWNhbFwiIDogXCJob3Jpem9udGFsXCJ9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4geyBjb29yZHM6IFtzdGFydFJvdywgc3RhcnRDb2xdLCBpc1ZlcnRpY2FsIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNpIG5vIGhheSBnYW1lYm9hcmQgbyBubyBoYXkgYXR0ZW1wdGVkUGxhY2VtZW50cywgc29sbyB2YWxpZGFtb3MgcXVlIGVzdMOpIGRlbnRybyBkZWwgdGFibGVyb1xuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYENvb3JkZW5hZGFzIHbDoWxpZGFzIGVuY29udHJhZGFzIGVuIGVsIGludGVudG8gJHthdHRlbXB0cyArIDF9OiBbJHtzdGFydFJvd30sICR7c3RhcnRDb2x9XSAke2lzVmVydGljYWwgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIn1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgY29vcmRzOiBbc3RhcnRSb3csIHN0YXJ0Q29sXSwgaXNWZXJ0aWNhbCB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF0dGVtcHRzKys7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYEludGVudG8gJHthdHRlbXB0c30vJHttYXhBdHRlbXB0c30gZmFsbGlkbywgY29vcmRlbmFkYXM6IFske3N0YXJ0Um93fSwgJHtzdGFydENvbH1dICR7aXNWZXJ0aWNhbCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwifWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBObyBzZSBlbmNvbnRyYXJvbiBjb29yZGVuYWRhcyB2w6FsaWRhcyBkZXNwdcOpcyBkZSAke21heEF0dGVtcHRzfSBpbnRlbnRvc2AsXG4gICAgKTtcbiAgfVxuXG4gIGdlbmVyYXRlUmFuZG9tQXR0YWNrKG9wcG9uZW50R2FtZWJvYXJkKSB7XG4gICAgLy8gUGFyYSBhdGFjYXIgYSBKdWdhZG9yIGh1bWFub1xuICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAxMDA7XG4gICAgY29uc3QgYXR0YWNrZWRDb29yZHMgPSBuZXcgU2V0KCk7IC8vIFBhcmEgbm8gcmVwZXRpciBpbnRlbnRvcyBlbiBsYSBtaXNtYSBsbGFtYWRhXG5cbiAgICB3aGlsZSAoYXR0ZW1wdHMgPCBtYXhBdHRlbXB0cykge1xuICAgICAgY29uc3QgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgICBjb25zdCBjb29yZEtleSA9IGAke3h9LCR7eX1gOyAvLyBDbGFjZSDDum5pY2EgcGFyYSBlbCBnZXRTaGlwTGVuZ3RoXG5cbiAgICAgIGlmIChhdHRhY2tlZENvb3Jkcy5oYXMoY29vcmRLZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBZYSBoZW1vcyBpbnRlbnRhZG8gZXN0YSBjb29yZGVuYWRhIGVuIGVzdGUgdHVybm8sIHByb2JhbW9zIG90cmFcbiAgICAgIH1cbiAgICAgIGF0dGFja2VkQ29vcmRzLmFkZChjb29yZEtleSk7IC8vIE1BcmNhbW9zIGNvbW8gaW50ZW50YWRhIGVuIGVzdGUgdHVybm9cblxuICAgICAgLy8gQ29tcHJvYmFtb3MgZWwgZXN0YWRvIGRlbCB0YWJsZXJvIG9wb25lbnRlXG4gICAgICBjb25zdCBjZWxsU3RhdGUgPSBvcHBvbmVudEdhbWVib2FyZC5nZXRDZWxsU3RhdGUoW3gsIHldKTtcblxuICAgICAgLy8gRXMgdsOhbGlkYWQgc2kgZXN0w6EgJ2VtcHR5JyBvIGVzICdzaGlwJyhhw7puIHNpbiBpbXBhY3RhcilcbiAgICAgIGlmIChjZWxsU3RhdGUgPT09IFwiZW1wdHlcIiB8fCBjZWxsU3RhdGUgPT09IFwic2hpcFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBDb21wdXRlciBBSSBjaG9zZSB2YWxpZCBhdHRhY2s6IFske3h9LCAke3l9XWApO1xuICAgICAgICByZXR1cm4gW3gsIHldOyAvLyBEZXZ1bGV2ZSBsYXMgY29vcmRlbmFkYXMgdsOhbGlkYXNcbiAgICAgIH1cblxuICAgICAgYXR0ZW1wdHMrKztcbiAgICB9XG5cbiAgICAvLyBzaSBubyBlbmNvbnRyYW1vcyBjZWxkYXMgdsOhbGlkYXMgZGVzcHXDqXMgZGUgbXVjaG9zIGludGVudG9zIGRldm9sdmVtb3MgdW4gbWVuc2FqZSBkZSBFcnJvclxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ29tcHV0ZXIgQUkgZmFpbGVkIHRvIGZpbmQgYSB2YWxpZCBjb29yZGluYXRlIHRvIGF0dGFjayBhZnRlciBtYW55IGF0dGVtcHRzLlwiLFxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllci5qcyc7XG5pbXBvcnQgeyBHYW1lYm9hcmQgfSBmcm9tIFwiLi9nYW1lYm9hcmQuanNcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBsYXllcjEgPSBudWxsO1xuICAgIHRoaXMucGxheWVyMiA9IG51bGw7XG4gICAgdGhpcy5nYW1lYm9hcmRQbGF5ZXIxID0gbnVsbDtcbiAgICB0aGlzLmdhbWVib2FyZFBsYXllcjIgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFBsYXllciA9IG51bGw7IC8vIFRvIGtlZXAgdHJhY2sgb2YgY3VycmVudCBwbGF5ZXJcbiAgfVxuXG4gIHN0YXJ0R2FtZSgpIHtcbiAgICAvLyAxLiBDcmVhdGUgZ2FtZWJvYXJkcyBmb3IgYm90aCBwbGF5ZXJzXG4gICAgdGhpcy5nYW1lYm9hcmRQbGF5ZXIxID0gbmV3IEdhbWVib2FyZCgpO1xuICAgIHRoaXMuZ2FtZWJvYXJkUGxheWVyMiA9IG5ldyBHYW1lYm9hcmQoKTtcblxuICAgIC8vIDIuIENyZWF0ZSBwbGF5ZXJzLCBhc3NvY2lhdGluZyB0aGVtIHdpdGggdGhlaXIgZ2FtZWJvYXJkc1xuICAgIHRoaXMucGxheWVyMSA9IG5ldyBQbGF5ZXIoXCJIdW1hblwiLCB0aGlzLmdhbWVib2FyZFBsYXllcjEpO1xuICAgIHRoaXMucGxheWVyMiA9IG5ldyBQbGF5ZXIoXCJhaVwiLCB0aGlzLmdhbWVib2FyZFBsYXllcjIpO1xuXG4gICAgLy8gNC4gU2V0IHRoZSBpbml0aWFsIHR1cm4gKFBsYXllciAxIHN0YXJ0IGJ5IGRlZmF1bHQpXG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gdGhpcy5wbGF5ZXIxO1xuICB9XG5cbiAgbmV4dFR1cm4oKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFBsYXllciA9PT0gdGhpcy5wbGF5ZXIxKSB7XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllcjI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyMTtcbiAgICB9XG4gIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBTaGlwIHtcbiAgY29uc3RydWN0b3IobGVuZ3RoKSB7XG4gICAgaWYgKGxlbmd0aCA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNoaXAncyBsZW5ndGggbXVzdCBiZSBncmF0aGVyIHRoYW4gMGApO1xuICAgIH1cbiAgICAvL3RoaXMuc2hpcE5hbWUgPSBzaGlwTmFtZTtcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLmhpdHMgPSAwO1xuICAgIHRoaXMuc3VuayA9IGZhbHNlO1xuXG4gIH1cblxuICAvLyBNZXRob2RzXG4gIGhpdCgpIHtcbiAgICB0aGlzLmhpdHMrKztcbiAgICB0aGlzLnN1bmsgPSB0aGlzLmhpdHMgPj0gdGhpcy5sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXMuc3VuaztcbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICAvLyBpZiAodGhpcy5oaXRzID49IHRoaXMubGVuZ3RoKSB7XG4gICAgLy8gICByZXR1cm4gdHJ1ZTtcbiAgICAvLyB9ZWxzZSB7XG4gICAgLy8gICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfVxuICAgIFxuICAgIC8vIFNob3J0ZXNzIHZlcnNpb25cbiAgICByZXR1cm4gdGhpcy5oaXRzID49IHRoaXMubGVuZ3RoO1xuICB9XG59IiwiaW1wb3J0IFwiLi9zdHlsZXMuY3NzXCI7XG5pbXBvcnQgeyByZW5kZXJHYW1lYm9hcmQsIHVwZGF0ZUNlbGxWaXN1YWwgfSBmcm9tIFwiLi9zcmMvZG9tLmpzXCI7XG5pbXBvcnQgeyBHYW1lYm9hcmQsIGNhbGN1bGF0ZVNoaXBDb29yZHMgfSBmcm9tIFwiLi9zcmMvZ2FtZWJvYXJkLmpzXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vc3JjL2dhbWUuanNcIjtcbmltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zcmMvc2hpcC5qc1wiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vc3JjL3BsYXllci5qc1wiO1xuXG5jb25zdCBwbGF5ZXJCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyQm9hcmRcIik7XG5jb25zdCBjb21wdXRlckJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21wdXRlckJvYXJkXCIpO1xuY29uc3QgbmV3R2FtZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3R2FtZUJ1dHRvblwiKTtcbmNvbnN0IGZsZWV0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbGVldEJ1dHRvblwiKTtcbmNvbnN0IGZsZWV0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbGVldFNlbGVjdGlvblwiKTtcbmNvbnN0IHNoaXBPcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLW9wdGlvblwiKTtcbmNvbnN0IHNoaXBQbGFjZW1lbnRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcFBsYWNlbWVudE1vZGFsXCIpO1xuY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VNb2RhbEJ1dHRvblwiKTtcbmNvbnN0IG1vZGFsU2hpcE5hbWVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbFNoaXBOYW1lXCIpO1xuY29uc3QgcGxhY2VTaGlwTW9kYWxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYWNlU2hpcEJ1dHRvbk1vZGFsXCIpO1xubGV0IGN1cnJlbnRTaGlwVHlwZSA9IG51bGw7IC8vIFZhcmlhYmxlIGdsb2JhbCBwYXJhIGd1YXJkYXIgZWwgYmFyY28gcXVlIHNlIGVzdMOhIGNvbG9jYW5kbyBkZXNkZSBlbCBtb2RhbCAoaW5pY2lhbG1lbnRlIG51bGwpXG5jb25zdCBjb29yZEVycm9yU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29vcmRpbmF0ZUVycm9yXCIpO1xubGV0IHNoaXBQbGFjZWRDb3VudCA9IDA7XG5jb25zdCBnYW1lU3RhdHVzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c0NvbnRhaW5lclwiKTtcbmNvbnN0IGdhbWVJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lSW5mb1wiKTtcbmxldCBnYW1lT3ZlciA9IGZhbHNlO1xuY29uc3QgcGxheWVySGl0c0Rpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVySGl0c0NvdW50Jyk7XG5jb25zdCBwbGF5ZXJNaXNzZXNEaXNwbGF5ID1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyTWlzc2VzQ291bnQnKTtcbmNvbnN0IGNvbXB1dGVySGl0c0Rpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcHV0ZXJIaXRzQ291bnQnKTtcbmNvbnN0IGNvbXB1dGVyTWlzc2VzRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdXRlck1pc3Nlc0NvdW50Jyk7XG5cblxuY29uc3QgZ2FtZUluc3RhbmNlID0gbmV3IEdhbWUoKTtcbndpbmRvdy5nYW1lSW5zdGFuY2UgPSBnYW1lSW5zdGFuY2U7XG5nYW1lSW5zdGFuY2Uuc3RhcnRHYW1lKCk7XG5jb25zdCBjb21wdXRlclBsYXllciA9IGdhbWVJbnN0YW5jZS5wbGF5ZXIyO1xuY29uc3QgaHVtYW5QbGF5ZXIgPSBnYW1lSW5zdGFuY2UucGxheWVyMTtcbmV4cG9ydCBjb25zdCBnYW1lYm9hcmRDb21wdXRlciA9IGdhbWVJbnN0YW5jZS5nYW1lYm9hcmRQbGF5ZXIyO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUNvb3JkaW5hdGVJbnB1dChjb29yZGluYXRlKSB7XG4gIGlmICghY29vcmRpbmF0ZSkge1xuICAgIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvck1lc3NhZ2U6IFwiQ29vcmRpbmF0ZSBjb25ub3QgYmUgZW1wdHlcIiB9O1xuICB9XG5cbiAgY29uc3QgcGFydHMgPSBjb29yZGluYXRlLnNwbGl0KFwiLFwiKS5tYXAoKHBhcnQpID0+IHBhcnQudHJpbSgpKTsgLy8gRGl2aWRpciBwb3IgY29tYSB5IHF1aXRhciBlc3BhY2lvbiBlbiBibGFuY29cblxuICBpZiAocGFydHMubGVuZ3RoICE9PSAyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgZXJyb3JNZXNzYWdlOiBcIkludmFsaWQgZm9ybWF0LiBQbGVhc2UgdXNlIGZvcm1hdCAneCx5JyAoZS5nLiA1LDUpXCIsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHlTdHIgPSBwYXJ0c1swXTtcbiAgY29uc3QgeFN0ciA9IHBhcnRzWzFdO1xuXG4gIGNvbnN0IHkgPSBwYXJzZUludCh5U3RyKTsgLy8gY29udmVydGlyIGxhIHBhcnRlIHkgYSBuw7ptZXJvXG4gIGNvbnN0IHggPSBwYXJzZUludCh4U3RyKTsgLy8gY29udmVydGlyIGxhIHBhcnRlIHggYSBuw7ptZXJvXG5cbiAgLy8gVmVyaWZpY2FyIHNpIHggJiB5IHNvbiBuw7ptZXJvc1xuXG4gIGlmIChpc05hTih4KSB8fCBpc05hTih5KSkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgIGVycm9yTWVzc2FnZTogXCJJbnZhbGlkIGNvb3JkaW5hdGVzLiBYIGFuZCBZIG11c3QgYmUgbnVtYmVyc1wiLFxuICAgIH07XG4gIH1cblxuICBpZiAoeCA8IDAgfHwgeCA+IDkgfHwgeSA8IDAgfHwgeSA+IDkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICBlcnJvck1lc3NhZ2U6IFwiQ29vcmRpbmF0ZXMgb3V0IG9mIHJhbmdlLiBYIGFuZCBZIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA5XCIsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIGVycm9yTWVzc2FnZTogXCJcIiB9OyAvLyBDb29yZGVuYWRhcyB2w6FsaWRhc1xufVxuXG5mdW5jdGlvbiBwYXJzZUNvb3JkaW5hdGVJbnB1dChjb29yZGluYXRlKSB7XG4gIGNvbnN0IHBhcnRzID0gY29vcmRpbmF0ZS5zcGxpdChcIixcIikubWFwKChwYXJ0KSA9PiBwYXJ0LnRyaW0oKSk7IC8vIERpdmlkaXIgcG9yIGNvbWEgeSBxdWl0YXIgZXNwYWNpb3NcbiAgY29uc3QgeVN0ciA9IHBhcnRzWzBdO1xuICBjb25zdCB4U3RyID0gcGFydHNbMV07XG4gIGNvbnN0IHggPSBwYXJzZUludCh4U3RyKTsgLy8gQ29udmVydGlyIFggYSBuw7ptZXJvXG4gIGNvbnN0IHkgPSBwYXJzZUludCh5U3RyKTsgLy8gQ29udmVydGlyIFkgYSBuw7ptZXJvXG5cbiAgcmV0dXJuIFt5LCB4XTsgLy8gwqFERVZPTFZFUiBbZmlsYSwgY29sdW1uYV0gPSBbWSwgWF0hICAoRW4gYXJyYXlzIDJELCBlbCBwcmltZXIgw61uZGljZSBlcyBsYSBmaWxhLCBlbCBzZWd1bmRvIGVzIGxhIGNvbHVtbmEpXG59XG5cbi8vIEV2ZW50IGxpc3RlbmVyIHRvIHRoZSBcIk5ldyBHYW1lXCIgYnV0dG9uXG5uZXdHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiTW9zdHJhbmRvIHRhYmxlcm8gZGUganVnYWRvci4uLlwiKTtcbiAgcGxheWVyQm9hcmQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgZmxlZXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgbmV3R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xufSk7XG4vLyBFdmVudCBsaXN0ZW5lciB0byB0aGUgXCJDaG9vc2UgeW91ciBGbGVldFwiIGJ1dHRvblxuZmxlZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc29sZS5sb2coXCJNb3N0cmFuZG8gZmxvdGEgZGUganVnYWRvciBhIGNvbG9jYXIuLi5cIik7XG4gIGZsZWV0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gIGZsZWV0U2VsZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG59KTtcblxuc2hpcE9wdGlvbnMuZm9yRWFjaCgoc2hpcE9wdGlvbikgPT4ge1xuICBzaGlwT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGNvbnN0IHNoaXBUeXBlID0gc2hpcE9wdGlvbi5kYXRhc2V0LnNoaXBUeXBlO1xuICAgIG1vZGFsU2hpcE5hbWVTcGFuLnRleHRDb250ZW50ID1cbiAgICAgIHNoaXBUeXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2hpcFR5cGUuc2xpY2UoMSk7XG4gICAgY29vcmRFcnJvclNwYW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTsgLy8gT2N1bHRhciBtZW5zYWplIGRlIGVycm9yIGFsIGFicmlyIGVsIG1vZGFsXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb29yZGluYXRlSW5wdXRcIikudmFsdWUgPSBcIlwiOyAvLyBMaW1waWFyIGVsIGlucHV0XG4gICAgc2hpcFBsYWNlbWVudE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgY3VycmVudFNoaXBUeXBlID0gc2hpcFR5cGU7XG4gIH0pO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RhbFNoaXBWYWx1ZSgpIHtcbiAgY29uc3QgY29vcmRpbmF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb29yZGluYXRlSW5wdXRcIik7XG4gIGNvbnN0IG9yaWVudGF0aW9uVmVydGljYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcIm9yaWVudGF0aW9uVmVydGljYWxcIixcbiAgKS5jaGVja2VkO1xuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVDb29yZGluYXRlSW5wdXQoY29vcmRpbmF0ZUlucHV0LnZhbHVlKTtcblxuICBpZiAodmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkKSB7XG4gICAgY29vcmRFcnJvclNwYW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBjb25zdCBjb29yZHMgPSBwYXJzZUNvb3JkaW5hdGVJbnB1dChjb29yZGluYXRlSW5wdXQudmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKFwiUGFyc2VkIGNvb3JkaW5hdGVzOiBcIiwgY29vcmRzKTtcblxuICAgIGNvbnN0IHNoaXBMZW5ndGggPSBQbGF5ZXIuZ2V0U2hpcExlbmd0aChjdXJyZW50U2hpcFR5cGUpO1xuICAgIGNvbnN0IHNoaXBUb1BsYWNlID0gbmV3IFNoaXAoc2hpcExlbmd0aCk7XG4gICAgY29uc29sZS5sb2coXCJPcmllbnRhdGlvbiAodmVydGljYWwpOlwiLCBvcmllbnRhdGlvblZlcnRpY2FsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwbGFjZW1lbnRSZXN1bHQgPSBnYW1lSW5zdGFuY2UuZ2FtZWJvYXJkUGxheWVyMS5wbGFjZVNoaXAoXG4gICAgICAgIHNoaXBUb1BsYWNlLFxuICAgICAgICBjb29yZHMsXG4gICAgICAgIG9yaWVudGF0aW9uVmVydGljYWwsXG4gICAgICApO1xuXG4gICAgICBpZiAocGxhY2VtZW50UmVzdWx0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGAke2N1cnJlbnRTaGlwVHlwZX0gcGxhY2VkIHN1Y2Nlc3NmdWxseSFgLFxuICAgICAgICAgIGdhbWVJbnN0YW5jZS5nYW1lYm9hcmRQbGF5ZXIxLnNoaXBzLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwbGFjZWRTaGlwQ29vcmRzID0gY2FsY3VsYXRlU2hpcENvb3JkcyhcbiAgICAgICAgICBzaGlwVG9QbGFjZSxcbiAgICAgICAgICBjb29yZHMsXG4gICAgICAgICAgb3JpZW50YXRpb25WZXJ0aWNhbCxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2hpcFBsYWNlZFRvUmVtb3ZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgYHNoaXAtb3B0aW9uLSR7Y3VycmVudFNoaXBUeXBlfWAsXG4gICAgICAgICk7XG4gICAgICAgIHNoaXBQbGFjZWRUb1JlbW92ZS5yZW1vdmUoKTtcblxuICAgICAgICBwbGFjZWRTaGlwQ29vcmRzLmZvckVhY2goKGNvb3JkKSA9PiB7XG4gICAgICAgICAgY29uc3QgW3JvdywgY29sXSA9IGNvb3JkO1xuICAgICAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID1cbiAgICAgICAgICAgIGdhbWVJbnN0YW5jZS5nYW1lYm9hcmRQbGF5ZXIxLmNlbGxFbGVtZW50c1tyb3ddW2NvbF07XG4gICAgICAgICAgdXBkYXRlQ2VsbFZpc3VhbChjZWxsRWxlbWVudCwgXCJzaGlwXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPY3VsdGFyIGVsIG1vZGFsIHkgbGltcGlhciBlbCBpbnB1dCBkZXNwdcOpcyBkZSB1bmEgY29sb2NhY2nDs24gZXhpdG9zYSB5IHF1aXRhciBlbCBiYXJjbyBjb2xvY2FkbyBkZSBsYSBsaXN0YVxuICAgICAgICBzaGlwUGxhY2VkQ291bnQrKztcbiAgICAgICAgc2hpcFBsYWNlbWVudE1vZGFsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgIGNvb3JkaW5hdGVJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGNvb3JkRXJyb3JTcGFuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgIHN0YXJ0R2FtZUFmdGVyRmxlZXRQbGFjZWQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlNoaXAgcGxhY2VtZW50IGVycm9yOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIGNvb3JkRXJyb3JTcGFuLnRleHRDb250ZW50ID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIGNvb3JkRXJyb3JTcGFuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvb3JkRXJyb3JTcGFuLnRleHRDb250ZW50ID0gdmFsaWRhdGlvblJlc3VsdC5lcnJvck1lc3NhZ2U7XG4gICAgY29vcmRFcnJvclNwYW4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgfVxufVxuXG4vLyBDbG9zZSBzaGlwIHBsYWNlbWVudCBtb2RhbFxuY2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBzaGlwUGxhY2VtZW50TW9kYWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgY29vcmRFcnJvclNwYW4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTsgLy8gT2N1bHRhciBtZW5zYWplIGRlIGVycm9yIGFsIGNlcnJhciBlbCBtb2RhbFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvb3JkaW5hdGVJbnB1dFwiKS52YWx1ZSA9IFwiXCI7IC8vIExpbXBpYXIgZWwgaW5wdXRcbn0pO1xuXG4vLyBPYnRlbmVyIGxvcyB2YWxvcmVzIGRlbCBiYXJjbyBhIGNvbG9jYXJcbnBsYWNlU2hpcE1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGdldE1vZGFsU2hpcFZhbHVlKCk7XG59KTtcblxuLy8gQcOxYWRpciBsaXN0ZW5lciBwYXJhIG9jdWx0YXIgbWVuc2FqZSBkZSBlcnJvciBjdWFuZG8gZWwgaW5wdXQgY2FtYmllXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvb3JkaW5hdGVJbnB1dFwiKS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVDb29yZGluYXRlSW5wdXQoXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb29yZGluYXRlSW5wdXRcIikudmFsdWUsXG4gICk7XG4gIGlmICh2YWxpZGF0aW9uUmVzdWx0LmlzVmFsaWQpIHtcbiAgICBjb29yZEVycm9yU3Bhbi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gc3RhcnRHYW1lQWZ0ZXJGbGVldFBsYWNlZCgpIHtcbiAgaWYgKHNoaXBQbGFjZWRDb3VudCA9PT0gNSkge1xuICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIHN0YXJ0IHRvIGF0dGFjayFcIik7XG4gICAgZmxlZXRCdXR0b24uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBjb25zdCBmbGVldFNlbGVjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmxlZXRTZWxlY3Rpb25cIik7XG4gICAgZmxlZXRTZWxlY3Rpb24ucmVtb3ZlKCk7XG4gICAgZ2FtZVN0YXR1c0Rpc3BsYXkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBnYW1lU3RhdHVzRGlzcGxheS50ZXh0Q29udGVudCA9IFwiWW91ciBUdXJuIHRvIEF0dGFjayFcIjtcbiAgICBnYW1lSW5mby5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGNvbXB1dGVyQm9hcmQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBjb21wdXRlclBsYWNlU2hpcHMoZ2FtZWJvYXJkQ29tcHV0ZXIpO1xuICAgIHVwZGF0ZVNjb3JlRHNpcGxheXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlclBsYWNlU2hpcHMoZ2FtZWJvYXJkQ29tcHV0ZXIpIHtcbiAgY29uc3Qgc2hpcFR5cGVzVG9QbGFjZSA9IFtcbiAgICBcImNhcnJpZXJcIixcbiAgICBcImJhdHRsZXNoaXBcIixcbiAgICBcImRlc3Ryb3llclwiLFxuICAgIFwic3VibWFyaW5lXCIsXG4gICAgXCJwYXRyb2xCb2F0XCIsXG4gIF07XG4gIGNvbnN0IGNvbXB1dGVyUGxheWVyID0gZ2FtZUluc3RhbmNlLnBsYXllcjI7XG5cbiAgc2hpcFR5cGVzVG9QbGFjZS5mb3JFYWNoKChzaGlwVHlwZSkgPT4ge1xuICAgIGxldCBzaGlwUGxhY2VkID0gZmFsc2U7XG4gICAgd2hpbGUgKCFzaGlwUGxhY2VkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzaGlwTGVuZ3RoID0gUGxheWVyLmdldFNoaXBMZW5ndGgoc2hpcFR5cGUpO1xuICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSBjb21wdXRlclBsYXllci5nZXRSYW5kb21Db29yZHNGb3JCb2FyZChcbiAgICAgICAgICBnYW1lYm9hcmRDb21wdXRlcixcbiAgICAgICAgICBzaGlwTGVuZ3RoLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBzaGlwID0gbmV3IFNoaXAoc2hpcExlbmd0aCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYEludGVudGFuZG8gY29sb2NhciAke3NoaXBUeXBlfSBlbiBbJHtwbGFjZW1lbnQuY29vcmRzWzBdfSwgJHtwbGFjZW1lbnQuY29vcmRzWzFdfV0gJHtwbGFjZW1lbnQuaXNWZXJ0aWNhbCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwifWAsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcGxhY2VtZW50UmVzdWx0ID0gZ2FtZWJvYXJkQ29tcHV0ZXIucGxhY2VTaGlwKFxuICAgICAgICAgIHNoaXAsXG4gICAgICAgICAgcGxhY2VtZW50LmNvb3JkcyxcbiAgICAgICAgICBwbGFjZW1lbnQuaXNWZXJ0aWNhbCxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAocGxhY2VtZW50UmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgICAgc2hpcFBsYWNlZCA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgQ29tcHV0ZXIgcGxhY2VkICR7c2hpcFR5cGV9IGF0IFske3BsYWNlbWVudC5jb29yZHNbMF19LCAke3BsYWNlbWVudC5jb29yZHNbMV19XSAke3BsYWNlbWVudC5pc1ZlcnRpY2FsID8gXCJ2ZXJ0aWNhbGx5XCIgOiBcImhvcml6b250YWxseVwifWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQ29tcHV0ZXIgQUkgcGxhY2VtZW50IGZhaWxlZCBmb3IgJHtzaGlwVHlwZX06YCxcbiAgICAgICAgICBlcnJvci5tZXNzYWdlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgY29uc29sZS5sb2coYCR7Z2FtZUluc3RhbmNlLnBsYXllcjJ9IHBsYWNlZCBmbGVldCBzdWNjZXNzZnVsbHkhYCk7XG4gIGNvbnNvbGUubG9nKGAke2dhbWVJbnN0YW5jZS5wbGF5ZXIxfSBzdGFydCB0byBhdHRhY2shYCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBsYXllckF0dGFjayhyb3csIGNvbCkge1xuICBjb25zb2xlLmxvZyhcbiAgICBgaGFuZGxlUGxheWVyQXR0YWNrOiBBdHRhY2tpbmcgWyR7cm93fSwgJHtjb2x9XSBvbiBjb21wdXRlckJvYXJkYCxcbiAgKTtcbiAgY29uc3QgbnVtZXJpY1JvdyA9IHBhcnNlSW50KHJvdyk7XG4gIGNvbnN0IG51bWVyaWNDb2wgPSBwYXJzZUludChjb2wpO1xuXG4gIC8vIDEuIENvbXByb2JhciBzaSBlcyB0dXJubyBkZWwganVnYWRvclxuICAvLyAyLiBMbGFtYXIgYSBjb21wdXRlclBsYXllci5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhbcm93LCBjb2xdKTtcbiAgLy8gMy4gQ29tcHJvYmFyIHNpIGVsIGF0YXF1ZSBmdWUgdsOhbGlkbyAobm8gcmVwZXRpZG8pXG4gIGNvbnN0IGF0dGFja1Jlc3VsdCA9IGdhbWVib2FyZENvbXB1dGVyLnJlY2VpdmVBdHRhY2soW1xuICAgIG51bWVyaWNSb3csXG4gICAgbnVtZXJpY0NvbCxcbiAgXSk7IC8vIFZlbW9zIHF1ZSBkZXZ1ZWx2ZSByZWNpY2VBdHRhY2sgKHRydWUvZmFsc2UpXG4gIGNvbnNvbGUubG9nKFwiQXR0YWNrIHJlc3VsdDogXCIsIGF0dGFja1Jlc3VsdCk7XG4gIGlmIChhdHRhY2tSZXN1bHQgPT09ICdoaXQnfHwgYXR0YWNrUmVzdWx0ID09PSAnc3VuaycpIHtcbiAgICBnYW1lSW5zdGFuY2UucGxheWVyMS5oaXRzTWFkZSsrOyAvLyBJbmNyZW1lbnRhIGVsIGxvcyBhY2llcnRvcyBkZWwganVnYWRvciBIdW1hbm9cbiAgfSBlbHNlIGlmIChhdHRhY2tSZXN1bHQgPT09ICdtaXNzJykge1xuICAgIGdhbWVJbnN0YW5jZS5wbGF5ZXIxLm1pc3Nlc01hZGUrKzsgLy8gSW5jcmVtZW50YSBsb3MgZmFsbG9zIGRlbCBqdWdhZG9yIGh1bWFub1xuICB9XG4gIHVwZGF0ZVNjb3JlRGlzcGxheXMoKTsgLy8gUmVuZGVyaXphbW9zIGVsIHNjb3JlXG4gIGNvbnNvbGUubG9nKFxuICAgIGBoYW5kbGVQbGF5ZXJBdHRhY2s6IENhbGxpbmcgcmVuZGVyR2FtZWJvYXJkIGZvciBjb21wdXRlckJvYXJkIFVQREFURWAsXG4gICk7XG4gIC8vIDQuIEFjdHVhbGl6YXIgbGEgVUkgKHJlbmRlckJvYXJkIGRlIG51ZXZvIHBhcmEgZWwgb3JkZW5hZG9yKVxuICByZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkQ29tcHV0ZXIsIGNvbXB1dGVyQm9hcmQsIGhhbmRsZVBsYXllckF0dGFjayk7IC8vIExsYW1hbW9zIGEgaGFuZGxlQXR0YWNrIGRlbnRybyBkZSBlbGxhIG1pc21hIHBhcmEgcXVlIHNpZ2Egc2llbmRvIGNsaWNhYmxlXG5cbiAgLy8gNS4gTW9zdHJhciBtZW5zYWplIGRlIGhpdC9taXNzL3N1bmsgKGVuIHR1IG51ZXZvIGdhbWUtaW5mbylcbiAgLy8gNi4gQ29tcHJvYmFyIHNpIGVsIGp1ZWdvIHRlcm1pbsOzXG4gIGNvbnN0IHBsYXllcldvbiA9IGdhbWVib2FyZENvbXB1dGVyLmFyZUFsbFNoaXBzU3VuaygpO1xuICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIGlmIHBsYXllciB3b246XCIsIHBsYXllcldvbik7IC8vIDwtLSBMb2cgcGFyYSBkZXB1cmFyXG5cbiAgaWYgKHBsYXllcldvbikge1xuICAgIGFsZXJ0KGBWaWN0b3JpYSBwYXJhICR7aHVtYW5QbGF5ZXJ9IWApO1xuICAgIGNvbnNvbGUubG9nKFwiR2FtZSBPdmVyIC0gUGxheWVyIFdpbnMhXCIpO1xuICAgIGdhbWVPdmVyID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgLy8gNy4gU2kgbm8sIGNhbWJpYXIgdHVybm8gZSBpbmljaWFyIGVsIGF0YXF1ZSBkZWwgb3JkZW5hZG9yXG4gICAgY29uc29sZS5sb2coYCR7aHVtYW5QbGF5ZXJ9IHR1cm4gZW5kZWQuIFNjaGVkdWxpbmcgY29tcHV0ZXIgdHVybi4uLmApO1xuICAgIGdhbWVTdGF0dXNEaXNwbGF5LnRleHRDb250ZW50ID0gXCJDb21wdXRlcidzIFR1cm4uLi5cIjsgLy8gQWN0dWFsaXphciBlc3RhZG9cbiAgICAvLyBEZXNoYWJpbGl0YXIgdGVtcG9yYWxtZW50ZSBhdGFxdWVzIGRlbCBqdWdhZG9yXG4gICAgcmVuZGVyR2FtZWJvYXJkKGdhbWVib2FyZENvbXB1dGVyLCBjb21wdXRlckJvYXJkLCBudWxsKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCItLS0gQ29tcHV0ZXIncyBUdXJuIFNUQVJUIC0tLVwiKTtcbiAgICAgIGxldCBjb21wQXR0YWNrQ29vcmRzOyAvLyBEZWNsYXJhciBhcXXDrSBkZW50cm9cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIDEuIE9idGVuZW1vcyBjb29yZGVuYWRhcyB2w6FsaWRhcyBwYXJhIGF0YWNhclxuICAgICAgICBjb21wQXR0YWNrQ29vcmRzID0gY29tcHV0ZXJQbGF5ZXIuZ2VuZXJhdGVSYW5kb21BdHRhY2soaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkKTsgLy8gUGFzYW1vcyBlbCB0YWJsZXJvIGRlbCBqdWdhZG9yXG4gICAgICAgIGNvbnNvbGUubG9nKGBDb21wdXRlciB0YXJnZXRzOiBbJHtjb21wQXR0YWNrQ29vcmRzWzBdfSwgJHtjb21wQXR0YWNrQ29vcmRzWzFdfV1gKTtcblxuICAgICAgICAvLyAyLiBFamVjdXRhciBlbCBhdGFxdWUgZW4gZWwgdGFibGVybyBkZWwganVnYWRvclxuICAgICAgICBjb25zdCBjb21wQXR0YWNrUmVzdWx0ID0gaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29tcEF0dGFja0Nvb3Jkcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBDb21wdXRlciBhdHRhY2sgcmVzdWx0OiAke2NvbXBBdHRhY2tSZXN1bHQgPyBcImhpdFwiIDogXCJtaXNzXCJ9YCk7XG4gICAgICAgIGlmIChjb21wQXR0YWNrUmVzdWx0ID09PSAnaGl0J3x8IGNvbXBBdHRhY2tSZXN1bHQgPT09ICdzdW5rJykge1xuICAgICAgICAgIGdhbWVJbnN0YW5jZS5wbGF5ZXIyLmhpdHNNYWRlKys7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcEF0dGFja1Jlc3VsdCA9PT0gJ21pc3MnKSB7XG4gICAgICAgICAgZ2FtZUluc3RhbmNlLnBsYXllcjIubWlzc2VzTWFkZSsrO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVNjb3JlRGlzcGxheXMoKTsgLy8gUmVuZGVyaXphbW9zIGVsIHNjb3JlXG5cbiAgICAgICAgLy8gMy4gQWN0dWFsaXphciBsYSBVSSBkZWwgdGFibGVybyBkZWwgSnVnYWRvclxuICAgICAgICBjb25zb2xlLmxvZyhcIlVwZGF0aW5nIHBsYXllcidzIGJvYXJkIFVJLi4uXCIpO1xuICAgICAgICByZW5kZXJHYW1lYm9hcmQoaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkLCBwbGF5ZXJCb2FyZCwgbnVsbCk7IC8vIFJlbmRlcml6YSBlbCB0YWJsZXJvIGRlbCBqdWdhZG9yIChzaWVtcHJlIG5vIGNsaWNhYmxlKVxuXG4gICAgICAgIC8vIDQuIENvbXByb2JhciBzaSBlbCBPcmRlbmFkb3IgaGEgZ2FuYWRvXG4gICAgICAgIGNvbnN0IGNvbXB1dGVyV29uID0gaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkLmFyZUFsbFNoaXBzU3VuaygpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIGlmIGNvbXB1dGVyIHdvbjpcIiwgY29tcHV0ZXJXb24pO1xuXG4gICAgICAgIGlmIChjb21wdXRlcldvbikge1xuICAgICAgICAgIGFsZXJ0KGBWaWN0b3JpYSBwYXJhICR7Y29tcHV0ZXJQbGF5ZXJ9IWApO1xuICAgICAgICAgIGdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkdhbWUgT3ZlciAtIENvbXB1dGVyIFdpbnMhXCIpO1xuICAgICAgICAgIGdhbWVTdGF0dXNEaXNwbGF5LnRleHRDb250ZW50ID0gXCJDb21wdXRlciBXaW5zIVwiO1xuICAgICAgICAgIC8vIE5vIGVzIG5lY2VzYXJpbyByZW5kZXJpemFyIGVsIHRhYmxlcm8gZW5lbWlnbyBkZSBudWV2byBzaSBlbCBqdWVnbyB0ZXJtaW7Ds1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDUuIFNpIGVsIGp1ZWdvIG5vIGhhIHRlcm1pbmFkbywgZGV2b2x2ZXIgZWwgdHVybm8gYWwganVnYWRvclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tIENvbXB1dGVyJ3MgVHVybiBFTkQgLS0tXCIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmV0dXJuaW5nIHR1cm4gdG8gcGxheWVyLi4uXCIpO1xuICAgICAgICAgIGdhbWVTdGF0dXNEaXNwbGF5LnRleHRDb250ZW50ID0gXCJZb3VyIFR1cm4gdG8gQXR0YWNrIVwiOyAvLyBEZXZvbHZlciBlc3RhZG9cbiAgICAgICAgICByZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkQ29tcHV0ZXIsIGNvbXB1dGVyQm9hcmQsIGhhbmRsZVBsYXllckF0dGFjayk7IC8vIFJlLWhhYmlsaXRhciBhdGFxdWVzIGRlbCBqdWdhZG9yXG4gICAgICAgIH1cblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgJHtjb21wdXRlclBsYXllcn0gY291bGRuJ3QgZmluZCBhIHZhbGlkIGNvb3JkaW5hdGUgdG8gYXR0YWNrYCwgZXJyb3IpO1xuICAgICAgICAvLyBTaSBmYWxsYSBsYSBnZW5lcmFjacOzbiBkZSBjb29yZGVuYWRhcywgZGV2b2x2ZW1vcyBlbCB0dXJubyBhbCBqdWdhZG9yIGlndWFsbWVudGVcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0gQ29tcHV0ZXIncyBUdXJuIEVORCAoRmFpbGVkIHRvIGZpbmQgdGFyZ2V0KSAtLS1cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmV0dXJuaW5nIHR1cm4gdG8gcGxheWVyLi4uXCIpO1xuICAgICAgICBnYW1lU3RhdHVzRGlzcGxheS50ZXh0Q29udGVudCA9IFwiWW91ciBUdXJuIHRvIEF0dGFjayFcIjsgLy8gRGV2b2x2ZXIgZXN0YWRvXG4gICAgICAgIHJlbmRlckdhbWVib2FyZChnYW1lYm9hcmRDb21wdXRlciwgY29tcHV0ZXJCb2FyZCwgaGFuZGxlUGxheWVyQXR0YWNrKTsgLy8gUmVoYWJpbGl0YXIgYSBqdWdhZG9yXG4gICAgICAgIC8vIE5vIG5lY2VzaXRhbW9zIHJldHVybiBhcXXDrSB5YSBxdWUgZXMgZWwgZmluYWwgZGVsIGNhbGxiYWNrXG4gICAgICB9XG4gICAgfSwgMTAwMCk7IC8vIEZpbiBzZXRUaW1lb3V0XG5cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2NvcmVEaXNwbGF5cygpIHtcbiAgcGxheWVySGl0c0Rpc3BsYXkudGV4dENvbnRlbnQgPSBnYW1lSW5zdGFuY2UucGxheWVyMS5oaXRzTWFkZTtcbiAgcGxheWVyTWlzc2VzRGlzcGxheS50ZXh0Q29udGVudCA9IGdhbWVJbnN0YW5jZS5wbGF5ZXIxLm1pc3Nlc01hZGU7XG4gIGNvbXB1dGVySGl0c0Rpc3BsYXkudGV4dENvbnRlbnQgPSBnYW1lSW5zdGFuY2UucGxheWVyMi5oaXRzTWFkZTtcbiAgY29tcHV0ZXJNaXNzZXNEaXNwbGF5LnRleHRDb250ZW50ID0gZ2FtZUluc3RhbmNlLnBsYXllcjIubWlzc2VzTWFkZTtcbn1cblxucmVuZGVyR2FtZWJvYXJkKGdhbWVJbnN0YW5jZS5nYW1lYm9hcmRQbGF5ZXIxLCBwbGF5ZXJCb2FyZCk7XG5yZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkQ29tcHV0ZXIsIGNvbXB1dGVyQm9hcmQsIGhhbmRsZVBsYXllckF0dGFjayk7XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwic3VwcG9ydHMiLCJsYXllciIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsInB1c2giLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJkb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJqb2luIiwibW9kdWxlcyIsImRlZHVwZSIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImluc2VydCIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwibWVtbyIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwibG9jYWxzIiwiY29vcmRzRGlzcGxheSIsInJlbmRlckdhbWVib2FyZCIsImdhbWVib2FyZCIsImNvbnRhaW5lciIsImNsaWNrQ2VsbENhbGxiYWNrIiwiY29uc29sZSIsImxvZyIsImlubmVySFRNTCIsInRhYmxlIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2VsbEVsZW1lbnRzIiwiaGVhZGVyUm93IiwiZW1wdHlIZWFkZXJDZWxsIiwiY29sSW5kZXgiLCJncmlkIiwiaGVhZGVyQ2VsbCIsInRleHRDb250ZW50IiwiX2xvb3AiLCJyb3dJbmRleCIsInRhYmxlUm93Iiwicm93SGVhZGVyQ2VsbCIsInJvd0NlbGxFbGVtZW50cyIsIl9sb29wMiIsIl9jb2xJbmRleCIsInRhYmxlQ2VsbCIsImRhdGFzZXQiLCJyb3ciLCJjb2wiLCJjZWxsU3RhdGUiLCJnZXRDZWxsU3RhdGUiLCJzdGF0ZVRvRGlzcGxheSIsInVwZGF0ZUNlbGxWaXN1YWwiLCJhZGRFdmVudExpc3RlbmVyIiwibGVmdCIsImNsaWVudFgiLCJ0b3AiLCJjbGllbnRZIiwiZGlzcGxheSIsImN1cnNvciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjZWxsRWxlbWVudCIsInBvc2l0aW9uIiwiekluZGV4IiwicG9pbnRlckV2ZW50cyIsImJvZHkiLCJHYW1lYm9hcmQiLCJfY2xhc3NDYWxsQ2hlY2siLCJzaGlwcyIsIkFycmF5IiwiZmlsbCIsImF0dGVtcHRlZFBsYWNlbWVudHMiLCJ2YWx1ZSIsInNoaXAiLCJjb29yZGluYXRlcyIsImlzVmVydGljYWwiLCJzaGlwQ29vcmRzIiwiY2FsY3VsYXRlU2hpcENvb3JkcyIsInZhbGlkYXRlU2hpcFBsYWNlbWVudCIsInZhbGlkYXRlTm9PdmVybGFwIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJkb25lIiwiX2Nvb3JkcyIsIl9zbGljZWRUb0FycmF5IiwiaGl0IiwiZXJyIiwiZiIsInNoaXBQbGFjZW1lbnQiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiX2Nvb3JkIiwibmV3U2hpcENvb3JkcyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJfc3RlcDQiLCJuZXdDb29yZCIsIl9pdGVyYXRvcjQiLCJfc3RlcDUiLCJwbGFjZWRTaGlwUGxhY2VtZW50IiwiX2l0ZXJhdG9yNSIsInBsYWNlZFNoaXBDb29yZCIsIl9jb29yZGluYXRlcyIsIngiLCJ5IiwiY2VsbCIsImlzU3VuayIsImV2ZXJ5IiwiX2Nvb3JkaW5hdGVzMiIsImVycm9yIiwic3RhcnRDb29yZGluYXRlcyIsInZlcnRpY2FsIiwic3RhcnRSb3ciLCJzdGFydENvbCIsInNoaXBsZW5ndGgiLCJQbGF5ZXIiLCJ0eXBlIiwiYXJndW1lbnRzIiwiaGl0c01hZGUiLCJtaXNzZXNNYWRlIiwic2hpcFR5cGUiLCJyZWNlaXZlQXR0YWNrIiwic2hpcExlbmd0aCIsIl9yZXQiLCJhdHRlbXB0cyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNvbWUiLCJjb29yZCIsInYiLCJjb29yZHMiLCJhdHRlbXB0Iiwib3Bwb25lbnRHYW1lYm9hcmQiLCJhdHRhY2tlZENvb3JkcyIsIlNldCIsImNvb3JkS2V5IiwiaGFzIiwiR2FtZSIsInBsYXllcjEiLCJwbGF5ZXIyIiwiZ2FtZWJvYXJkUGxheWVyMSIsImdhbWVib2FyZFBsYXllcjIiLCJjdXJyZW50UGxheWVyIiwiU2hpcCIsImhpdHMiLCJzdW5rIiwicGxheWVyQm9hcmQiLCJnZXRFbGVtZW50QnlJZCIsImNvbXB1dGVyQm9hcmQiLCJuZXdHYW1lQnV0dG9uIiwiZmxlZXRCdXR0b24iLCJmbGVldFNlbGVjdGlvbiIsInNoaXBPcHRpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsInNoaXBQbGFjZW1lbnRNb2RhbCIsImNsb3NlTW9kYWxCdG4iLCJtb2RhbFNoaXBOYW1lU3BhbiIsInBsYWNlU2hpcE1vZGFsQnRuIiwiY3VycmVudFNoaXBUeXBlIiwiY29vcmRFcnJvclNwYW4iLCJzaGlwUGxhY2VkQ291bnQiLCJnYW1lU3RhdHVzRGlzcGxheSIsImdhbWVJbmZvIiwicGxheWVySGl0c0Rpc3BsYXkiLCJwbGF5ZXJNaXNzZXNEaXNwbGF5IiwiY29tcHV0ZXJIaXRzRGlzcGxheSIsImNvbXB1dGVyTWlzc2VzRGlzcGxheSIsImdhbWVJbnN0YW5jZSIsInN0YXJ0R2FtZSIsImNvbXB1dGVyUGxheWVyIiwiaHVtYW5QbGF5ZXIiLCJnYW1lYm9hcmRDb21wdXRlciIsInZhbGlkYXRlQ29vcmRpbmF0ZUlucHV0IiwiY29vcmRpbmF0ZSIsImlzVmFsaWQiLCJlcnJvck1lc3NhZ2UiLCJwYXJ0cyIsInNwbGl0IiwicGFydCIsInRyaW0iLCJ5U3RyIiwieFN0ciIsInBhcnNlSW50IiwiaXNOYU4iLCJnZXRNb2RhbFNoaXBWYWx1ZSIsImNvb3JkaW5hdGVJbnB1dCIsIm9yaWVudGF0aW9uVmVydGljYWwiLCJjaGVja2VkIiwidmFsaWRhdGlvblJlc3VsdCIsImdldFNoaXBMZW5ndGgiLCJzaGlwVG9QbGFjZSIsInBsYWNlU2hpcCIsInBsYWNlZFNoaXBDb29yZHMiLCJmb3JFYWNoIiwic2hpcFBsYWNlZCIsInBsYWNlbWVudCIsImdldFJhbmRvbUNvb3Jkc0ZvckJvYXJkIiwibWVzc2FnZSIsImNvbXB1dGVyUGxhY2VTaGlwcyIsInVwZGF0ZVNjb3JlRHNpcGxheXMiLCJ1cGRhdGVTY29yZURpc3BsYXlzIiwic2hpcE9wdGlvbiIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJoYW5kbGVQbGF5ZXJBdHRhY2siLCJudW1lcmljUm93IiwibnVtZXJpY0NvbCIsImF0dGFja1Jlc3VsdCIsInBsYXllcldvbiIsImFyZUFsbFNoaXBzU3VuayIsImFsZXJ0Iiwic2V0VGltZW91dCIsImNvbXBBdHRhY2tDb29yZHMiLCJnZW5lcmF0ZVJhbmRvbUF0dGFjayIsImNvbXBBdHRhY2tSZXN1bHQiLCJjb21wdXRlcldvbiJdLCJzb3VyY2VSb290IjoiIn0=